<div class="content d-flex flex-column flex-column-fluid" id="kt_content">
  <div class="card card-custom mb-7" style="margin-left: 16px;">
    <div class="card-header flex-wrap border-0 pt-6 pb-0">
      <div class="card-title"><b>{{'questions.settings' | translate}}</b></div>
    </div>
    <div class="card-body">
      <app-loading-spinner *ngIf="isLoading"></app-loading-spinner>

      <div class="container">
        <div *ngIf="!isLoading" class="row justify-content-center">
          <div class="form w-100" id="kt_contact_add_form" [formGroup]="settingsForm">
            <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 " *ngIf="mode == 0">
              <label [ngClass]="{'disabled-area': disable}" class="checkbox checkbox-inline mr-3">
                <input type="checkbox" name="startWithoutConfirmation" formControlName="startWithoutConfirmation" class="checkedBox">
                <span></span>
                <div class="col-form-label p-0 ml-3">
                  {{'options.start-without-confirmation' | translate}}
                  <button type="button" class="btn btn-icon" ngbTooltip="{{'tooltips.option1' | translate}}">
                    <i class="fas fa-question-circle ml-3"></i>
                  </button>
                </div>
              </label>
            </div>
            <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12" *ngIf="mode == 0">
              <label [ngClass]="{'disabled-area': disable}" class="checkbox checkbox-inline mr-3">
                <input type="checkbox" name="startBeforeProgrammation" formControlName="startBeforeProgrammation" class="checkedBox">
                <span></span>
                <div class="col-form-label p-0 ml-3">
                  {{'options.start-before-programmed-time' | translate}}
                  <button type="button" class="btn btn-icon" ngbTooltip="{{'tooltips.option2' | translate}}">
                    <i class="fas fa-question-circle"></i>
                  </button>
                </div>
              </label>
            </div>
            <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12" *ngIf="mode == 0">
              <label [ngClass]="{'disabled-area': disable}" class="checkbox checkbox-inline mr-3">
                <input type="checkbox" name="startAfterProgrammation" formControlName="startAfterProgrammation" class="checkedBox">
                <span></span>
                <div class="col-form-label p-0 ml-3">
                  {{'options.start-after-programmed-time' | translate}}
                  <button type="button" class="btn btn-icon" ngbTooltip="{{'tooltips.option3' | translate}}">
                    <i class="fas fa-question-circle"></i>
                  </button>
                </div>
              </label>
            </div>
            <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12" *ngIf="mode == 0 && !showManyQuestionPerPage">
              <label [ngClass]="{'disabled-area': disable}" class="checkbox checkbox-inline mr-3">
                <input type="checkbox" name="possibleGetToSkipped" formControlName="possibleGetToSkipped"
                  (ngModelChange)="possibleGetToSkippedChange($event)" class="checkedBox">
                <span></span>
                <div class="col-form-label p-0 ml-3">
                  {{'options.skipped-answer' | translate}}
                  <button type="button" class="btn btn-icon" ngbTooltip="{{'tooltips.option4' | translate}}">
                    <i class="fas fa-question-circle"></i>
                  </button>
                </div>
              </label>
            </div>
            <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12" *ngIf="mode == 0 && !showManyQuestionPerPage">
              <label [ngClass]="{'disabled-area': disable}" class="checkbox checkbox-inline mr-3">
                <input type="checkbox" name="possibleChangeAnswer" formControlName="possibleChangeAnswer"
                  (ngModelChange)="possibleChangeAnswerChange($event)" class="checkedBox">
                <span></span>
                <div class="col-form-label p-0 ml-3">
                  {{'options.change-answer' | translate}}
                  <button type="button" class="btn btn-icon" ngbTooltip="{{'tooltips.option5' | translate}}">
                    <i class="fas fa-question-circle"></i>
                  </button>
                </div>
              </label>
            </div>
            <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12" *ngIf="mode == 0">
              <label [ngClass]="{'disabled-area': disable}" class="checkbox checkbox-inline mr-3">
                <input type="checkbox" name="canViewResultWithoutVerification"
                  formControlName="canViewResultWithoutVerification" class="checkedBox">
                <span></span>
                <div class="col-form-label p-0 ml-3">
                  {{'options.view-result' | translate}}
                  <button type="button" class="btn btn-icon" ngbTooltip="{{'tooltips.option6' | translate}}">
                    <i class="fas fa-question-circle"></i>
                  </button>
                </div>
              </label>
            </div>
            <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12" *ngIf="mode == 1">
              <label [ngClass]="{'disabled-area': disable}" class="checkbox checkbox-inline mr-3">
                <input type="checkbox" name="canViewPollProgress" formControlName="canViewPollProgress">
                <span></span>
                <div class="col-form-label p-0 ml-3">
                  {{'options.poll-progress' | translate}}
                  <button type="button" class="btn btn-icon" ngbTooltip="{{'tooltips.option7' | translate}}">
                    <i class="fas fa-question-circle"></i>
                  </button>
                </div>
              </label>
            </div>
            <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12" *ngIf="mode == 0 && !showManyQuestionPerPage">
              <label [ngClass]="{'disabled-area': disable}" class="checkbox checkbox-inline mr-3">
                <input type="checkbox" name="hidePagination" (ngModelChange)="hidePaginationChange($event)"
                  formControlName="hidePagination">
                <span></span>
                <div class="col-form-label p-0 ml-3">
                  {{'options.hide-pagination' | translate}}
                  <button type="button" class="btn btn-icon" ngbTooltip="{{'tooltips.option8' | translate}}">
                    <i class="fas fa-question-circle"></i>
                  </button>
                </div>
              </label>
            </div>
            <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12"
              *ngIf="mode == 0 && !(possibleChangeAnswer || possibleGetToSkipped || hidePagination || setMaxErrors)">
              <label [ngClass]="{'disabled-area': disable}" class="checkbox checkbox-inline mr-3">
                <input type="checkbox" name="showManyQuestionPerPage"
                  (ngModelChange)="showManyQuestionPerPageChange($event)" formControlName="showManyQuestionPerPage">
                <span></span>
                <div class="col-form-label p-0 ml-3">
                  {{'options.show-many-questions' | translate}}
                  <button type="button" class="btn btn-icon" ngbTooltip="{{'tooltips.option9' | translate}}">
                    <i class="fas fa-question-circle"></i>
                  </button>
                </div>
              </label>
              <input *ngIf="showManyQuestionPerPage" [ngClass]="{'disabled-area': disable}"
                class="form-control form-control-solid h-30px mt-1" style="width: 70px;" type="number"
                name="questionsCountPerPage" min="0" formControlName="questionsCountPerPage">
            </div>
            <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12" *ngIf="mode == 0 && !showManyQuestionPerPage">
              <label [ngClass]="{'disabled-area': disable}" class="checkbox checkbox-inline mr-3">
                <input type="checkbox" name="showManyQuestionPerPage" [(ngModel)]="setMaxErrors"
                  [ngModelOptions]="{standalone: true}">
                <span></span>
                <div class="col-form-label p-0 ml-3">
                  {{'options.set-max-errors' | translate}}
                  <button type="button" class="btn btn-icon" ngbTooltip="{{'tooltips.option10' | translate}}">
                    <i class="fas fa-question-circle"></i>
                  </button>
                </div>
              </label>
              <input *ngIf="setMaxErrors" [ngClass]="{'disabled-area': disable}"
                class="form-control form-control-solid h-30px mt-1" style="width: 70px;" type="number" name="maxErrors"
                min="0" formControlName="maxErrors">
            </div>

            <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12" *ngIf="mode == 0" >
              <label class="col-form-label p-0">
                <span class="my-4 mr-3">{{'options.formula-for-one-answer' | translate}}</span>
              <select class="form-control form-control-sm form-control-solid mt-2" name="formulaForOneAnswer"
                (ngModelChange)="selectScoreFormulaOneAnswer($event)"  formControlName="formulaForOneAnswer">
                <option value="">{{'questions.select' | translate}}</option>
                <option *ngFor="let item of scoreFormulas" [value]="item.value">
                  {{'statuses.' + item.label | translate}}</option>
              </select>
            </label>
            </div>

            <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 ml-3" *ngIf="showNegativeInputOneAnswer">
              <label [ngClass]="{'disabled-area': disable}" class="checkbox checkbox-inline mr-3">
                <input type="checkbox" name="negativeScoreForOneAnswer" formControlName="negativeScoreForOneAnswer"
                  [ngModelOptions]="{standalone: true}">
                <span></span>
                <div class="col-form-label p-0 ml-3">
                  {{'options.negative-score' | translate}}
                  <button type="button" class="btn btn-icon" ngbTooltip="to do">
                    <i class="fas fa-question-circle"></i>
                  </button>
                </div>
              </label>
            </div>

            <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12" *ngIf="mode == 0">
              <label class="col-form-label p-0">
                <span class="my-2 mr-3">{{'options.formula-for-multiple-answers' | translate}}</span>
              <select class="form-control form-control-sm form-control-solid" name="formulaForMultipleAnswers"
                (ngModelChange)="selectScoreFormulaMultipleAnswers($event)"
                formControlName="formulaForMultipleAnswers">
                <option value="">{{'questions.select' | translate}}</option>
                <option *ngFor="let item of scoreFormulas" [value]="item.value">
                  {{'statuses.' + item.label | translate}}</option>
              </select>
            </label>
            </div>

            <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 ml-3" *ngIf="showNegativeInputMultipleAnswers">
              <label [ngClass]="{'disabled-area': disable}" class="checkbox checkbox-inline mr-3">
                <input type="checkbox" name="negativeScoreForMultipleAnswers"
                formControlName="negativeScoreForMultipleAnswers" [ngModelOptions]="{standalone: true}">
                <span></span>
                <div class="col-form-label p-0 ml-3">
                  {{'options.negative-score' | translate}}
                  <button type="button" class="btn btn-icon" ngbTooltip="to do">
                    <i class="fas fa-question-circle"></i>
                  </button>
                </div>
              </label>
            </div>
          </div>
        </div>
      </div>
      <div *ngIf="!isLoading" class="mt-5 text-right">
        <app-add-button *ngIf="!disable" class="btn" [value]="'button.save' | translate" (handle)="updateOptions()"></app-add-button>
      </div>
    </div>
  </div>
</div>