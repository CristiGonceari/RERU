<app-page-title [title]="'categories.overview' | translate"> </app-page-title>

<app-loading-spinner *ngIf="isLoading" [contentHeight]="'80vh'" [height]="'5rem'" [width]="'5rem'"
    [colorClass]="'text-primary'">
</app-loading-spinner>

<erp-shared-content *ngIf="!isLoading">
  <div class="col">
    <div class="d-flex flex-row">
      <div class="flex-row-auto offcanvas-mobile w-300px w-xl-350px mb-7" id="kt_profile_aside">
        <div class="card card-custom erp-shared-desktop-wide">
          <div class="card-body pt-4"> 
            <div style="overflow: visible" class="text-right">
              <div ngbDropdown class="dropdown dropdown-inline">
                <div class="btn btn-sm btn-default btn-hover-default btn-icon mr-2">
                  <span class="svg-icon svg-icon-md" ngbDropdownToggle>
                    <svg _ngcontent-pkv-c106="" xmlns="http://www.w3.org/2000/svg"
                      xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="24px"
                      viewBox="0 0 24 24" version="1.1">
                      <g _ngcontent-pkv-c106="" stroke="none" stroke-width="1">
                          <rect _ngcontent-pkv-c106="" x="14" y="9" width="6" height="6" rx="3"
                              fill="black">
                          </rect>
                          <rect _ngcontent-pkv-c106="" x="3" y="9" width="6" height="6" rx="3"
                              fill="black" fill-opacity="0.7">
                          </rect>
                        </g>
                    </svg>
                  </span>
                </div>
                <div class="dropdown-menu dropdown-menu-sm dropdown-menu-left">
                  <div ngbDropdownMenu aria-labelledby="action1" class="mobile-dropdown-view">
                    <button [routerLink]="['./../../location', locationId]" class="navi-link align-items-center px-6" ngbDropdownItem>
                      {{'categories.view-details' | translate}}
                    </button>
                    <button [routerLink]="['./../../edit-location', locationId]"
                      class="navi-link align-items-baseline px-6" ngbDropdownItem>
                      {{ 'button.edit' | translate }}
                    </button>
                    <button (click)="openConfirmationDeleteModal()"
                      class="navi-link align-items-baseline px-6" ngbDropdownItem>
                      {{ 'button.delete' | translate }}
                    </button>
                  </div>
                </div>
              </div>
            </div>
            <div class="d-flex align-items-center">
              <div class="d-flex flex-column mx-auto mt-5">
                <a class="font-weight-bolder font-size-h5 text-dark-75">
                  {{locationName}}
                </a>
              </div>
            </div>
            <div class="py-9">
              <div class="navi navi-bold navi-hover navi-active navi-link-rounded">
                <div class="navi-item mb-2">
                  <a [routerLink]="['overview']" routerLinkActive="active" class="navi-link py-4">
                    <i class="flaticon-cogwheel-2 icon-md mr-3"></i>
                    <span class="navi-text font-size-lg">
                      {{ 'categories.overview' | translate }}
                    </span>
                  </a>
                </div>
                <div class="navi-item mb-2">
                  <a [routerLink]="['persons']" routerLinkActive="active" class="navi-link py-4">
                    <i class="fas fa-users icon-md mr-3"></i>
                    <span class="navi-text font-size-lg">
                      {{ 'locations.persons' | translate }}
                    </span>
                  </a>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="flex-row-fluid">
        <div class="mobile-container-menu">
          <div class="card card-custom mb-7 w-100">
            <div style="overflow: visible" class="text-right">
              <div ngbDropdown class="dropdown dropdown-inline">
                <div class="btn btn-sm btn-default btn-hover-default btn-icon mr-2 mt-2">
                  <span class="svg-icon svg-icon-md" ngbDropdownToggle>
                    <svg _ngcontent-pkv-c106="" xmlns="http://www.w3.org/2000/svg"
                      xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="24px"
                      viewBox="0 0 24 24" version="1.1">
                      <g _ngcontent-pkv-c106="" stroke="none" stroke-width="1">
                          <rect _ngcontent-pkv-c106="" x="14" y="9" width="6" height="6" rx="3"
                              fill="black">
                          </rect>
                          <rect _ngcontent-pkv-c106="" x="3" y="9" width="6" height="6" rx="3"
                              fill="black" fill-opacity="0.7">
                          </rect>
                        </g>
                    </svg>
                  </span>
                </div>
                <div class="dropdown-menu dropdown-menu-sm dropdown-menu-left">
                  <div ngbDropdownMenu aria-labelledby="action1" class="mobile-dropdown-view">
                    <button [routerLink]="['./../../location', locationId]" class="navi-link align-items-center px-6" ngbDropdownItem>
                      {{'categories.view-details' | translate}}
                    </button>
                    <button [routerLink]="['./../../edit-location', locationId]"
                      class="navi-link align-items-baseline px-6" ngbDropdownItem>
                      {{ 'button.edit' | translate }}
                    </button>
                    <button (click)="openConfirmationDeleteModal()"
                      class="navi-link align-items-baseline px-6" ngbDropdownItem>
                      {{ 'button.delete' | translate }}
                    </button>
                  </div>
                </div>
              </div>
            </div>
            <div class="d-flex align-items-center table-responsive">
              <div class="d-flex flex-column mx-auto px-3 ">
                <a class="font-weight-bolder font-size-h5 text-dark-75">
                {{locationName}}
                </a>
              </div>
            </div>
            <div class="card-body px-2 pb-4 overflow-auto" style="padding-top: 12px !important;">
              <div class="d-flex navi navi-bold navi-hover navi-active navi-link-rounded">
                <div class="navi-item mb-2">
                  <a [routerLink]="['overview']" routerLinkActive="active" class="navi-link pr-3 py-4">
                    <i class="flaticon-cogwheel-2 icon-md mr-3"></i>
                  </a>
                </div>
                <div class="navi-item mb-2" *ngIf="mode != 2">
                  <a [routerLink]="['persons']" routerLinkActive="active" class="navi-link pr-3 py-4  h-100">
                    <i class="fas fa-users icon-md mr-3"></i>
                  </a>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="flex-row-fluid ml-lg-8">
          <router-outlet></router-outlet>
        </div>
      </div>
    </div>
  </div>
</erp-shared-content>
