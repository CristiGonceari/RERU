<div *ngIf="isStartAddingTests" class="w-100">
  <div class="progress mt-2 h-25px">
    <div [style.width.%]="toolBarValue" class="progress-bar progress-bar-animated btn-light-warning font-size-h6"
      role="progressbar" aria-valuenow="50" aria-valuemin="0" aria-valuemax="100">
      {{ toolBarValue }}%
    </div>

  </div>
</div>

<div class="w-100 text-center" style="margin-top: 1%;" *ngIf="isStartAddingTests">
  <div class="text-center">
    <p class="text-center"> {{'tests.please-wait' | translate}} <span class="svg-icon svg-icon-primary svg-icon-2x">
        <!--begin::Svg Icon | path:/var/www/preview.keenthemes.com/metronic/releases/2021-05-14-112058/theme/html/demo5/dist/../src/media/svg/icons/Code/Loading.svg--><svg
          xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="24px"
          viewBox="0 0 24 24" version="1.1">
          <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
            <g>
              <polygon points="0 0 24 0 24 24 0 24" />
            </g>
            <path
              d="M12,4 L12,6 C8.6862915,6 6,8.6862915 6,12 C6,15.3137085 8.6862915,18 12,18 C15.3137085,18 18,15.3137085 18,12 C18,10.9603196 17.7360885,9.96126435 17.2402578,9.07513926 L18.9856052,8.09853149 C19.6473536,9.28117708 20,10.6161442 20,12 C20,16.418278 16.418278,20 12,20 C7.581722,20 4,16.418278 4,12 C4,7.581722 7.581722,4 12,4 Z"
              fill="#000000" fill-rule="nonzero" opacity="0.3"
              transform="translate(12.000000, 12.000000) scale(-1, 1) translate(-12.000000, -12.000000) " />
          </g>
        </svg>
        <!--end::Svg Icon-->
      </span></p>

  </div>
</div>

<h3 *ngIf="!isStartAddingTests" class="mb-10 font-weight-bold text-dark">{{'verify-test.test-details' | translate}}</h3>
<div *ngIf="!isStartAddingTests" class="row justify-content-center">
  <div class="col-12 col-xl-6 col-xxl-7 mb-5">
    <div class="form" id="kt_contact_add_form">
      <div class="row">
        <div class="col-xl-12">
          <div class="form-group row" *ngIf="testEvent">
            <label class="col-xl-3 col-lg-3 col-form-label text-right">
              {{'events.event' | translate}}
            </label>
            <div class="card ml-5 col-lg-8 col-xl-8">
              <div *ngIf="isLoading" class="m-4">
                <app-loading-spinner [contentHeight]="'1vh'" [height]="'1rem'" [width]="'1rem'"
                  [colorClass]="'text-primary'">
                </app-loading-spinner>
              </div>
              <div class="text-center p-3" *ngIf="!isLoading">
                {{ selectedEventName }}
              </div>
            </div>
          </div>
          <div class="form-group row" *ngIf="showEventCard">
            <label class="col-xl-3 col-lg-3 col-form-label text-right">
              {{'events.event-overview' | translate}}</label>
            <div class="card ml-5 col-lg-8 col-xl-8">
              <div class="card-body" *ngIf="!isLoading">
                <div class="form-group row align-items-center mb-2">
                  <label class="col-xl-6 col-lg-3 col-form-label font-weight-bold text-left text-lg-right text-muted">
                    {{'events.start-date' | translate}}:
                  </label>
                  <div class="col-lg-9 col-xl-6">
                    <p class="font-size-lg m-0">{{eventDatas.fromDate | date: 'd/M/yy, HH:mm'}}</p>
                  </div>
                </div>
                <div class="form-group row align-items-center mb-2">
                  <label class="col-xl-6 col-lg-3 col-form-label font-weight-bold text-left text-lg-right text-muted">
                    {{'events.end-date' | translate}}:
                  </label>
                  <div class="col-lg-9 col-xl-6">
                    <p class="font-size-lg m-0">{{eventDatas.tillDate | date: 'd/M/yy, HH:mm'}}</p>
                  </div>
                </div>
                <div class="form-group row align-items-center mb-2">
                  <label class="col-xl-6 col-lg-3 col-form-label font-weight-bold text-left text-lg-right text-muted">
                    {{'locations.description' | translate}}:
                  </label>
                  <div class="col-lg-9 col-xl-6">
                    <p class="font-size-lg m-0">{{eventDatas.description}}</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="form-group row align-items-center">
            <label class="col-xl-3 col-lg-3 col-form-label text-right">
              {{'verify-test.student' | translate}}</label>
            <div class="col-lg-9 col-xl-9">
              <button class="btn btn-light" (click)="attachUsers()"
                [style.background-color]="userListToAdd.length > 0 ? '#C9F7F5': '#FFE2E5'"
                [style.color]="userListToAdd.length > 0 ? '#0bb7af': '#F64E60'">
                {{'events.attach-evaluated' | translate}}
              </button>
            </div>
          </div>
          <div class="form-group row">
            <label class="col-xl-3 col-lg-3 col-form-label text-right">
              {{'verify-test.select-test-type' | translate}}
            </label>
            <div class="card ml-5 col-lg-8 col-xl-8">
              <div *ngIf="isLoading" class="m-4">
                <app-loading-spinner [contentHeight]="'1vh'" [height]="'1rem'" [width]="'1rem'"
                  [colorClass]="'text-primary'">
                </app-loading-spinner>
              </div>
              <div class="text-center p-3" *ngIf="!isLoading">
                {{ selectedTestTemplateName }}
              </div>
            </div>
          </div>

          <div class="form-group row" *ngIf="testTemplateMode == 2">
            <label class="col-xl-3 col-lg-3 col-form-label text-right">
                {{'events.evaluator' | translate}}</label>
            <div class="col-lg-9 col-xl-9">
                <button class="btn btn-light-primary" (click)="attachEvaluators()"
                    [disabled]="ceckTestTemplate(testTemplate)"
                    [style.background-color]="evaluatorList.length > 0 ? '#C9F7F5': '#FFE2E5'"
                    [style.color]="evaluatorList.length > 0 ? '#0bb7af': '#F64E60'">
                    {{'events.attach-evaluator' | translate}}
                </button>
            </div>
        </div>

          <div class="form-group row" *ngIf="testTemplateMode == 0">
            <label class="col-xl-3 col-lg-3 col-form-label text-right">
              {{'events.evaluator' | translate}}</label>
            <div class="col-lg-9 col-xl-9">
              <button class="btn btn-light-primary" *ngIf="!isTestTemplateOneAnswer"
                [disabled]="ceckTestTemplate(testTemplateId)" (click)="attachEvaluators()"
                [style.background-color]="evaluatorList.length > 0 ? '#C9F7F5': '#FFE2E5'"
                [style.color]="evaluatorList.length > 0 ? '#0bb7af': '#F64E60'">
                {{'events.attach-evaluator' | translate}}
              </button>
              <span *ngIf="isTestTemplateOneAnswer" class="label label-lg label-light label-inline h-45px px-5 w-100">
                {{'tests.test-type-autoverify' | translate}}
              </span>
            </div>
          </div>
          <div class="form-group row" *ngIf="testTemplateMode == 0">
            <label class="col-xl-3 col-lg-3 col-form-label text-right">{{'events.show-candidate' | translate}}:</label>
            <div class="ml-5 w-auto my-auto">
              <label class="checkbox checkbox-lg checkbox-inline mr-5">
                <input type="checkbox" name="isSelected" (change)="onItemChange($event)" [value]="showName"
                  [checked]="showName">
                <span></span>
              </label>
            </div>
          </div>
          <div class="form-group row mb-10" *ngIf="!testEvent">
            <label class="col-xl-3 col-lg-3 col-form-label text-right">{{'verify-test.programmed-time' | translate}}</label>
            <div class="col-lg-9 col-xl-9">
              <input id="from" [owlDateTime]="dtFrom" placeholder="Date Time" autocomplete="off" class="shadow-input"
                name="date" [(ngModel)]="date" />
              <input id="from" [owlDateTimeTrigger]="dtFrom" placeholder="Date Time" autocomplete="off"
                class="form-control form-control-lg form-control-solid" [value]="date | dateFilter:'dd/MM/yy HH:mm'" />
              <owl-date-time #dtFrom></owl-date-time>
            </div>
          </div>
        </div>
      </div>
      <div class="text-right border-top pt-10">
        <app-button class="btn mr-2" [value]="'button.cancel' | translate" (handle)="backClicked()">
        </app-button>
        <app-add-button class="btn mr-2" [value]="'button.confirm' | translate" (click)="createTest(false)"
          [disabled]="disableBtn || cantAdd()">
        </app-add-button>
        <app-confirm-button class="btn" title="{{messageText}}" [disabled]="!printTest || disableBtn || cantAdd()"
          [value]="'button.confirm-print' | translate" (click)="createTest(true)">
        </app-confirm-button>
      </div>
    </div>
  </div>
</div>