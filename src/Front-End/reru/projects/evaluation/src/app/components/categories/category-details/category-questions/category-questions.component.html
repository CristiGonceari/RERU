<div class="content d-flex flex-column flex-column-fluid" id="kt_content">
  <div class="card card-custom mb-7 ml-5">
    <div class="card-header flex-wrap border-0 py-5">
      <div class="card-title font-weight-bolder">{{'questions.questions' | translate}}</div>
    </div>
    <div class="card-body">
      <app-loading-spinner *ngIf="isLoading"></app-loading-spinner>
      <div *ngIf="!isLoading"
        class="datatable datatable-bordered datatable-head-custom datatable-default datatable-primary datatable-loaded"
        id="kt_datatable">
        <table class="datatable table font-size-lg" style="overflow: visible">
          <thead class="text-uppercase text-muted">
            <tr>
              <th scope="col">{{ 'questions.question' | translate }}</th>
              <th scope="col" class="text-right" style="width: 75px">{{ 'tests.status' | translate }}</th>
              <th scope="col" class="text-right" style="width: 155px">{{ 'questions.type' | translate }}</th>
              <th scope="col" style="width: 48px"></th>
            </tr>
          </thead>
          <tbody class="text-dark-75" *ngIf="questionList.length">
            <tr *ngFor="let question of questionList">
              <td>{{ question.question }}</td>
              <td class="text-right">
                <span class="font-size-lg">{{'statuses.' + questionEnum[question.status] | translate}}</span>
              </td>
              <td class="text-right">
                <span class="font-size-lg" *ngIf="question.questionType">{{'statuses.' + type[question.questionType] |
                    translate}}</span>
              </td>
              <td data-field="Actions" data-autohide-disabled="false" class="datatable-cell datatable-cell-sort p-3">
                <div style="overflow: visible; position: relative; width: 0px">
                  <div ngbDropdown class="dropdown dropdown-inline">
                    <div class="btn btn-sm btn-default btn-hover-default btn-icon mr-2">
                      <span class="svg-icon svg-icon-md" [id]="'action' + i" ngbDropdownToggle>
                        <svg _ngcontent-pkv-c106="" xmlns="http://www.w3.org/2000/svg"
                          xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="24px" viewBox="0 0 24 24"
                          version="1.1">
                          <g _ngcontent-pkv-c106="" stroke="none" stroke-width="1">
                            <rect _ngcontent-pkv-c106="" x="14" y="9" width="6" height="6" rx="3" fill="black">
                            </rect>
                            <rect _ngcontent-pkv-c106="" x="3" y="9" width="6" height="6" rx="3" fill="black"
                              fill-opacity="0.7"></rect>
                          </g>
                        </svg>
                      </span>
                    </div>
                    <div class="dropdown-menu dropdown-menu-sm dropdown-menu-left">
                      <div ngbDropdownMenu aria-labelledby="action1">
                        <button [routerLink]="['../../../../questions/question-detail', question.id]"
                          class="navi-link align-items-center px-6" ngbDropdownItem>
                          {{'categories.view-details' | translate}}
                        </button>
                        <button class="navi-link align-items-baseline px-6"
                          [routerLink]="['../../../../questions/edit-question', question.id]" ngbDropdownItem>
                          {{'button.edit' | translate}}
                        </button>
                        <button class="navi-link align-items-center px-6"
                          (click)="changeStatus(question.id, question.status)" ngbDropdownItem>
                          <label style="font-size: 13px;" class="mb-0" *ngIf="question.status == 0">{{'statuses.activate'
                              | translate}}</label>
                          <label style="font-size: 13px;" class="mb-0" *ngIf="question.status == 2">{{'statuses.activate'
                              | translate}}</label>
                          <label style="font-size: 13px;" class="mb-0"
                            *ngIf="question.status == 1">{{'statuses.inactivate' | translate}}</label>
                        </button>
                        <button [routerLink]="['../../../../questions/remove', question.id]"
                          class="navi-link align-items-baseline px-6" ngbDropdownItem>
                          {{'button.delete' | translate}}
                        </button>
                      </div>
                    </div>
                  </div>
                </div>
              </td>
            </tr>
          </tbody>
          <tbody class="datatable-body" *ngIf="!questionList.length">
            <tr>
              <td colspan="5" class="text-center">
                {{ 'message.no-record' | translate }}
              </td>
            </tr>
          </tbody>
        </table>
        <div pagination class="datatable-pager datatable-paging-loaded" [page]="pagedSummary.currentPage"
          [total]="pagedSummary.totalPages" [totalRecords]="pagedSummary.totalCount" [size]="pagedSummary.pageSize"
          (sizeChange)="getAll({ page: pagedSummary.currentPage, itemsPerPage: $event })"
          (pageChange)="getAll({ page: $event })">
        </div>
      </div>
    </div>
  </div>
</div>
