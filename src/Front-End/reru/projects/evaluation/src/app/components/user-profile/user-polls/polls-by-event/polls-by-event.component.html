<app-loading-spinner *ngIf="isLoading || downloadFile" [contentHeight]="'40vh'" [height]="'5rem'" [width]="'5rem'"
    [colorClass]="'text-primary'">
</app-loading-spinner>
<h4 class="text-center text-primary" *ngIf="downloadFile"> {{'print.print-table' | translate}} </h4>

<div class="datatable datatable-bordered datatable-head-custom datatable-default datatable-primary datatable-loaded"
    id="kt_datatable">
    <table class="datatable table" style="overflow: visible" id="pollsTable" *ngIf="!isLoading && !downloadFile">
        <thead class="text-uppercase text-muted">
            <tr>
                <th scope="col" class="colored">{{'tests.name' | translate}}</th>
                <th scope="col" style="width: 100px;">{{'tests.status' | translate}}</th>
                <th scope="col" style="width: 170px;">{{'polls.voted-time' | translate}}</th>
                <th scope="col" style="width: 150px;">{{'events.start-date' | translate}}</th>
                <th scope="col" style="width: 150px;">{{'events.end-date' | translate}}</th>
            </tr>
        </thead>
        <tbody class="datatable-body" *ngIf="polls.length">
            <tr *ngFor="let poll of polls">
                <td>{{ poll.testTemplateName }}</td>
                <td>{{'statuses.' + enum[poll.status] | translate}}</td>
                <td *ngIf="poll.votedTime">{{ poll.votedTime | date: 'dd/MM/yyyy, HH:mm' }}</td>
                <td *ngIf="!poll.votedTime">-</td>
                <td>{{ poll.startTime | date: 'dd/MM/yyyy, HH:mm'}}</td>
                <td>{{ poll.endTime | date: 'dd/MM/yyyy, HH:mm' }}</td>
            </tr>
        </tbody>
        <tbody class="datatable-body" *ngIf="!polls.length">
            <tr>
                <td colspan="6" class="text-center">
                    {{ 'message.no-record' | translate }}
                </td>
            </tr>
        </tbody>
    </table>
    <div pagination class="datatable-pager datatable-paging-loaded" [page]="pagedSummary.currentPage"
        *ngIf="polls.length > 5" [total]="pagedSummary.totalPages" [totalRecords]="pagedSummary.totalCount"
        [size]="pagedSummary.pageSize"
        (sizeChange)="getPolls({ page: 1, itemsPerPage: $event })"
        (pageChange)="getPolls({ page: $event, itemsPerPage: pagedSummary.pageSize })">
    </div>
</div>
