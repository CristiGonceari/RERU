<app-page-title title="{{'test-template.test-template' | translate}}" subTitle="{{'test-template.manage-test-template' | translate}}">
</app-page-title>

<erp-shared-content>
  <div class="row">
    <div class="col">
      <div class="card card-custom gutter-b erp-shared-desktop-wide">
        <div class="card-header d-lg-flex d-none border-0">
          <div class="card-title">
            <h3 class="card-label" id="title">{{'test-template.test-template' | translate}}</h3>
          </div>
          <div class="card-toolbar d-lg-flex d-none">
            <erp-shared-export-button class="btn mr-3" (click)="testTable.getHeaders(getTitle())">
              {{'button.export' | translate}}
            </erp-shared-export-button>
            <app-add-button class="btn" [routerLink]="['add-test-type']" [value]="'tests.add-test-template' | translate"></app-add-button>
          </div>
        </div>
        <div class="card-header flex-column d-lg-none d-flex border-0">
          <div class="card-title">
            <h3 class="card-label" id="title">{{'test-template.test-template' | translate}}</h3>
          </div>
          <div class="card-toolbar flex-column">
            <erp-shared-export-button width="100%" class="w-100" (click)="testTable.getHeaders(getTitle())">
              {{'button.export' | translate}}
            </erp-shared-export-button>
            <app-add-button width="100%" class="btn w-100" [routerLink]="['add-test-type']" [value]="'tests.add-test-template' | translate"></app-add-button>
          </div>
        </div>
        <div class="card-header border-0 mt-5 pr-5">
          <div class="row w-100">
            <div class="col-lg col-md-6 col-12">
              <erp-shared-search-input (handleSearch)="testTable.setFilter('name', $event)" [placeholder]="'button.search-name' | translate" #templateName></erp-shared-search-input>
            </div>
            <div class="col-lg col-md-6 col-12 pt-md-0 pt-2">
              <erp-shared-search-input (handleSearch)="testTable.setFilter('eventName', $event)" [placeholder]="'events.search-event' | translate" #eventName></erp-shared-search-input>
            </div>
            <div class="col-lg col-md-6 col-12 pt-lg-0 pt-2">
              <app-search-test-mode (filter)="testTable.setFilter('mode', $event)" #mode></app-search-test-mode>
            </div>
            <div class="col-lg col-md-6 col-12 pt-lg-0 pt-2">
              <app-search-qualifying-type (filter)="testTable.setFilter('qualifyingType', $event)" #qualifyingType></app-search-qualifying-type>
            </div>
            <div class="col-lg col-md-6 col-12 pt-lg-0 pt-2">
              <app-test-template-search (filter)="testTable.setFilter('status', $event)" #status></app-test-template-search>
            </div>
            <div class="col-lg-auto col-12 d-lg-block d-none text-center">
              <app-button (handle)="clearFields(); testTable.resetFilters()" [value]="'button.reset' | translate"></app-button>
            </div>
            <div class="col-lg-auto col-12 pt-lg-0 pt-2 d-lg-none d-block">
              <app-button width="100%"
              (handle)="clearFields(); testTable.resetFilters(); templateName.clearSearch(); eventName.clearSearch()" 
              [value]="'button.reset' | translate"></app-button>
            </div>
          </div>
        </div>
        <div class="card-body">
          <app-test-template-list-table #testTable></app-test-template-list-table>
        </div>
      </div>
    </div>
  </div>
</erp-shared-content>
