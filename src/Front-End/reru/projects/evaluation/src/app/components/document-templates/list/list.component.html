<app-page-title [title]="'documents-templates.title' | translate "></app-page-title>

<erp-shared-content>
    <div class="d-flex flex-row">
        <div class="col">
            <div class="card card-custom gutter-b erp-shared-desktop-wide">
                <div class="card-header flex-wrap border-0 pt-5">
                    <div class="card-title">
                        <h3 class="card-label font-weight-bolder" id="title">
                            {{'documents-templates.title-description-list' | translate}}
                        </h3>
                    </div>
                    <div class="card-toolbar d-md-flex d-none">
                        <erp-shared-export-button class="mr-3" (click)="table.getHeaders(getTitle())">
                            {{'button.export' | translate}}
                        </erp-shared-export-button>
                        <app-add-button class="btn" [routerLink]="['../new']"
                            [value]="'button.add' | translate">
                        </app-add-button>
                    </div>
                    <div class="card-toolbar d-md-none d-flex w-100">
                        <erp-shared-export-button class="w-100" width="100%" (click)="table.getHeaders(getTitle())">
                            {{'button.export' | translate}}
                        </erp-shared-export-button>
                        <app-add-button class="btn pt-2 w-100" width="100%" [routerLink]="['../new']"
                            [value]="'button.add' | translate">
                        </app-add-button>
                    </div>
                </div>
                <div class="card-header border-0 pt-0 pb-0 mt-3 row">
                    <div class="col-lg col-md-6 col-12">
                        <erp-shared-search-input 
                            (handleSearch)="table.setFilter('name', $event)" 
                            [placeholder]="'button.search-name' | translate" 
                            [showIcon]="false" [useDebounce]="false" #documentName>
                        </erp-shared-search-input>
                    </div>
                    <div class="col-lg col-md-6 col-12 pt-md-0 pt-2">
                        <app-search-by-type 
                            (filter)="table.setFilter('fileType', $event, true);" #status>
                        </app-search-by-type>
                    </div>
                    <div class="col-md-auto col-12 pt-md-0 pt-2 d-flex flex-column-reverse flex-md-row">
                        <app-button class="btn mr-md-5" width="100%"
                            (handle)="clearFields(); table.resetFilters()" 
                            [value]="'button.reset' | translate">
                        </app-button>
                        <app-confirm-button class="mb-md-0 mb-2" width="100%"
                            (handle)="table.getDocumentTemplates()" 
                            [value]="'button.search' | translate">
                        </app-confirm-button>
                    </div>
                </div>
                <div class="card-body">
                    <app-document-templates-table #table></app-document-templates-table>
                </div>
            </div>
        </div>
    </div>
</erp-shared-content>
