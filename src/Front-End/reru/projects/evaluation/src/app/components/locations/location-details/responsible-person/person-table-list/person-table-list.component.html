<app-loading-spinner *ngIf="isLoading"></app-loading-spinner>

<div class="table-responsive-xl datatable datatable-bordered datatable-head-custom datatable-default datatable-primary datatable-loaded"
    id="kt_datatable">
    <table class="datatable table erp-shared-table font-size-lg" *ngIf="!isLoading">
        <thead class="text-uppercase text-muted">
            <tr>
                <th scope="col">{{'events.name' | translate}} ({{'user-profile.npp' | translate}})</th>
                <th scope="col">{{'login.idnp' | translate}}</th>
            </tr>
        </thead>
        <tbody class="datatable-body" *ngIf="attachedPersons.length">
            <tr *ngFor="let item of attachedPersons">
                <td class="cursor-pointer text-hover-primary" [routerLink]="['../../../../user-profile', item.id]">
                    {{item.lastName}} {{item.firstName}} {{item.fatherName}}
                    <span class="text-dark-50 font-size-lg font-weight-light">(idnp: {{item.idnp}})</span>
                </td><td> {{item.idnp}} </td>
            </tr>
        </tbody>
        <tbody class="datatable-body" *ngIf="!attachedPersons.length">
            <tr>
                <td colspan="2" class="text-center">
                    {{ 'message.no-record' | translate }}
                </td>
            </tr>
        </tbody>
    </table>
    <div pagination class="datatable-pager datatable-paging-loaded" [page]="pagination.currentPage" 
        [total]="pagination.totalPages" [totalRecords]="pagination.totalCount" [size]="pagination.pageSize"
        (sizeChange)="list({ page: 1, itemsPerPage: $event })"
        (pageChange)="list({ page: $event, itemsPerPage: pagination.pageSize })">
    </div>
</div>
