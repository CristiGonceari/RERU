<app-page-title [title]="'categories.overview' | translate"> </app-page-title>

<app-loading-spinner *ngIf="isLoading" [contentHeight]="'80vh'" [height]="'5rem'" [width]="'5rem'"
  [colorClass]="'text-primary'">
</app-loading-spinner>

<div *ngIf="!isLoading" class="content d-flex flex-column flex-column-fluid" id="kt_content">
	<div class="d-flex flex-column-fluid">
		<div class="container">
			<div class="d-flex flex-row">
				<div class="flex-row-auto offcanvas-mobile w-300px w-xl-350px mb-7" id="kt_profile_aside">
					<div class="card card-custom">
						<div class="card-body pt-4">
							<div style="overflow: visible" class="text-right">
								<div ngbDropdown class="dropdown dropdown-inline">
									<div class="btn btn-sm btn-default btn-hover-default btn-icon mr-2">
										<span class="svg-icon svg-icon-md" ngbDropdownToggle>
											<svg _ngcontent-pkv-c106="" xmlns="http://www.w3.org/2000/svg"
												xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="24px"
												viewBox="0 0 24 24" version="1.1">
												<g _ngcontent-pkv-c106="" stroke="none" stroke-width="1">
													<rect _ngcontent-pkv-c106="" x="14" y="9" width="6" height="6"
														rx="3" fill="black">
													</rect>
													<rect _ngcontent-pkv-c106="" x="3" y="9" width="6" height="6" rx="3"
														fill="black" fill-opacity="0.7"></rect>
												</g>
											</svg>
										</span>
									</div>
									<div class="dropdown-menu dropdown-menu-sm dropdown-menu-left">
										<div ngbDropdownMenu aria-labelledby="action1">
											<button [routerLink]="['../../type-details', testId]"
												 class="navi-link align-items-center px-6" ngbDropdownItem>
												{{'categories.view-details' | translate}}
											</button>
											<button [routerLink]="['../../edit-test-type', testId]"
												[disabled]="status == statusEnum.Active || status == statusEnum.Canceled"
												class="navi-link align-items-baseline px-6" ngbDropdownItem>
												{{ 'button.edit' | translate }}
											</button>
											<div *ngIf="status != statusEnum.Canceled">
												<button (click)="validateTestTemplate()"  class="navi-link align-items-baseline px-6" ngbDropdownItem>
													<span style="font-size: 13px;" *ngIf="status == 1">{{'statuses.activate' | translate}}</span>
													<span style="font-size: 13px;" *ngIf="status == 0">{{'statuses.canceled' | translate}}</span>
												</button>
											</div>
											<button (click)="openConfirmationDeleteModal(testId)" class="navi-link align-items-baseline px-6"  ngbDropdownItem>
												{{'button.delete' | translate}}
											</button>
											<span *ngIf="status == statusEnum.Canceled">
												<button (click)="cloneTestTemplate(testId)"
													class="navi-link align-items-baseline px-6" ngbDropdownItem>
													<span style="font-size: 13px;">{{'statuses.clone' | translate}}</span>
												</button>
											</span>
										</div>
									</div>
								</div>
							</div>
							<div class="d-flex align-items-center">
								<div class="d-flex flex-column mx-auto mt-5">
									<a href="#" class="font-weight-bolder font-size-h5 text-dark-75 text-hover-primary">
										{{testName}}
									</a>
								</div>
							</div>
							<div class="py-9">
								<div class="navi navi-bold navi-hover navi-active navi-link-rounded">
									<div class="navi-item mb-2">
										<a [routerLink]="['overview']" routerLinkActive="active" class="navi-link py-4">
											<i class="flaticon-cogwheel-2 icon-md mr-3"></i>
											<span class="navi-text font-size-lg">
												{{ 'categories.overview' | translate }}
											</span>
										</a>
									</div>
									<div class="navi-item mb-2" *ngIf="mode != 2">
										<a [routerLink]="['options']" routerLinkActive="active" class="navi-link py-4">
											<i class="flaticon-cogwheel-2 icon-md mr-3"></i>
											<span class="navi-text font-size-lg">
												{{ 'questions.settings' | translate }}
											</span>
										</a>
									</div>
									<div class="navi-item mb-2">
										<a [routerLink]="['categories']" routerLinkActive="active"
											class="navi-link py-4" >
											<i class="flaticon-cogwheel-2 icon-md mr-3"></i>
											<span class="navi-text font-size-lg">
												{{ 'categories.categories' | translate }}
											</span>
										</a>
									</div>
									<div class="navi-item mb-2">
										<a [routerLink]="['rules']" routerLinkActive="active" class="navi-link py-4"
											>
											<i class="flaticon-cogwheel-2 icon-md mr-3"></i>
											<span class="navi-text font-size-lg">
												{{ 'tests.rules' | translate }}
											</span>
										</a>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
				<div class="flex-row-fluid">
					<router-outlet></router-outlet>
				</div>
			</div>
		</div>
	</div>
</div>
