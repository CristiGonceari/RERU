<app-page-title [title]="'pages.department.title' | translate"></app-page-title>
<app-loading-spinner *ngIf="isLoading" [contentHeight]="'20rem'" [width]="'5rem'" [height]="'5rem'"></app-loading-spinner>
<app-content *ngIf="!isLoading" classes="details-page">
    <div class="card card-custom gutter-bs">
        <div class="card-header flex-wrap border-0 pt-6 pb-0">
            <div class="card-title">
                <h3 class="card-label">{{department?.name || '-'}}
                    <span class="d-block subheader-text pt-2">{{'departments.department-details' | translate}}</span>
                </h3>
            </div>
            <div class="card-toolbar">
                <div ngbDropdown dropdownDetails class="dropdown dropdown-inline" container="body" placement="bottom-right">
                    <a ngbDropdownToggle id="departmentDropdown"
                        class="btn btn-sm btn-hover-default btn-icon mr-2" data-toggle="dropdown">
                        <span class="svg-icon svg-icon-dark-25 svg-icon-md">
                            <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
                                width="24px" height="24px" viewBox="0 0 24 24" version="1.1">
                                <g stroke="none" stroke-width="1">
                                    <rect x="14" y="9" width="6" height="6" rx="3" fill="black" />
                                    <rect x="3" y="9" width="6" height="6" rx="3" fill="black" fill-opacity="0.7" />
                                </g>
                            </svg>
                        </span>
                    </a>
                    <div ngbDropdownMenu aria-labelledby="departmentDropdown"
                        class="dropdown-menu dropdown-menu-sm dropdown-menu-right">
                        <ul class="navi flex-column navi-hover py-2">
                            <li class="navi-item"> <a href="javascript:;"
                                    (click)="openConfirmationDeleteModal()" class="navi-link">
                                    <span class="navi-icon"><i class="la la-remove text-dark-65"></i></span>
                                    <span class="navi-text text-dark-65">{{'button.delete' | translate}}</span>
                                </a> 
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    
        <div class="card-body">
            <div class="tab-content pt-5">
                <div class="tab-pane active" role="tabpanel">
                    <form class="form">
                        <div class="form-group row align-items-center">
                            <label class="col-xl-3 col-lg-3 col-form-label text-lg-right">{{'departments.department-name' | translate}}</label>
                            <div class="col-lg-9 col-xl-6 font-weight-bolder">
                                {{department.name || '-'}}
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    
        <div class="card-body">
            <div class="tab-content">
                <div class="row">
                    <div class="col-12 mb-10">
                        <app-department-content-card [entry]="template" [type]="contentType.Template" (openModal)="addDepartmentContentModal()" (delete)="openDeleteDepartmentContentModal($event)"></app-department-content-card>
                    </div>
                    <div class="col-xl col-12">
                        <app-department-content-card [entry]="calculated" [type]="contentType.Actual"></app-department-content-card>
                    </div>
                    <div class="col-xl col-12 mt-xl-0 mt-10">
                        <app-department-content-card [entry]="summary" [type]="contentType.Summary" [template]="template"></app-department-content-card>
                    </div>
                </div>
            </div>
        </div>
    </div>
</app-content>
