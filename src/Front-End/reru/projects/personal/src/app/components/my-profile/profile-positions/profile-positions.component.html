<div class="card card-custom card-stretch">
    <div class="card-header py-3">
        <div class="card-title align-items-start flex-column">
            <h3 class="card-label font-weight-bolder">{{'personal.list-position-held' | translate}}</h3>
            <span class="text-muted font-weight-bold font-size-sm mt-1">{{'personal.view-account-details' | translate}}</span>
        </div>
        <div class="card-toolbar">
            <span title="View mode" class="svg-icon svg-icon-success svg-icon-3x">
              <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="24px" viewBox="0 0 24 24" version="1.1">
                <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                    <rect x="0" y="0" width="24" height="24"/>
                    <path d="M3,12 C3,12 5.45454545,6 12,6 C16.9090909,6 21,12 21,12 C21,12 16.9090909,18 12,18 C5.45454545,18 3,12 3,12 Z" fill="#000000" fill-rule="nonzero" opacity="0.3"/>
                    <path d="M12,15 C10.3431458,15 9,13.6568542 9,12 C9,10.3431458 10.3431458,9 12,9 C13.6568542,9 15,10.3431458 15,12 C15,13.6568542 13.6568542,15 12,15 Z" fill="#000000" opacity="0.3"/>
                </g>
              </svg>
            </span>
          </div>
    </div>
    <div class="card-body">
        <app-loading-spinner *ngIf="isLoading" [contentHeight]="'20rem'" [height]="'5rem'" [width]="'5rem'" [colorClass]="'text-primary'"></app-loading-spinner>
        <div *ngIf="!isLoading"
            class="datatable datatable-bordered datatable-head-custom datatable-default datatable-primary datatable-loaded"
            id="kt_datatable" [ngClass]="{'datatable-error': !positions || !positions.length}">
            <table class="datatable-table" style="display: block;">
                <thead class="datatable-head">
                    <tr class="datatable-row" style="left: 0px;">
                        <th class="datatable-cell datatable-cell-sort" style="width: 15%;">
                            <span>
                                {{'entity.role.title' | translate}}
                            </span>
                        </th>
                        <th class="datatable-cell datatable-cell-sort" style="width: 15%;">
                            <span>
                                {{'entity.department.title' | translate}}
                            </span>
                        </th>
                        <th class="datatable-cell datatable-cell-sort" style="width: 15%;">
                            <span>
                                {{'entity.role.from-date' | translate}}
                            </span>
                        </th>
                        <th class="datatable-cell datatable-cell-sort" style="width: 15%;">
                            <span>
                                {{'entity.role.to-date' | translate}}
                            </span>
                        </th>
                        <th class="datatable-cell datatable-cell-sort" style="width: 10%;">
                            <span>
                                {{'entity.role.file' | translate}}
                            </span>
                        </th>
                        <th class="datatable-cell datatable-cell-sort" style="width: 10%;">
                            <span>
                                {{'entity.role.no' | translate}}
                            </span>
                        </th>
                    </tr>
                </thead>
                <tbody class="datatable-body">
                    <tr *ngFor="let item of positions; let i = index; let even = even" data-row="0" class="datatable-row"
                        [ngClass]="{'datatable-row-even': event}" style="left: 0px;">
                        <td class="datatable-cell" style="width: 15%;">
                            <!-- <span style="width: 20%;"> -->
                                {{item.organizationRoleName || '-'}}
                            <!-- </span> -->
                        </td>
                        <td class="datatable-cell" style="width: 15%;">
                            <!-- <span style="width: 35%;"> -->
                                {{item.departmentName || '-'}}
                            <!-- </span> -->
                        </td>
                        <td class="datatable-cell" style="width: 15%;">
                            <!-- <span style="width: 15%;"> -->
                                {{(item.fromDate ? (item.fromDate | date: 'dd.MM.yyyy') : '-')}}
                            <!-- </span> -->
                        </td>
                        <td class="datatable-cell" style="width: 15%;">
                            <!-- <span style="width: 20%;"> -->
                                {{(item.toDate ? (item.toDate | date: 'dd.MM.yyyy') : '-')}}
                            <!-- </span> -->
                        </td>
                        <td class="datatable-cell" style="width: 10%;">
                            <!-- <span style="width: 20%;"> -->
                                <span (click)="download(item)" *ngIf="item.orderId" class="svg-icon svg-icon-primary svg-icon-2x pointer" [title]="item.orderName">
                                    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="24px" viewBox="0 0 24 24" version="1.1">
                                    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                                        <polygon points="0 0 24 0 24 24 0 24"/>
                                        <path d="M5.85714286,2 L13.7364114,2 C14.0910962,2 14.4343066,2.12568431 14.7051108,2.35473959 L19.4686994,6.3839416 C19.8056532,6.66894833 20,7.08787823 20,7.52920201 L20,20.0833333 C20,21.8738751 19.9795521,22 18.1428571,22 L5.85714286,22 C4.02044787,22 4,21.8738751 4,20.0833333 L4,3.91666667 C4,2.12612489 4.02044787,2 5.85714286,2 Z" fill="#000000" fill-rule="nonzero" opacity="0.3"/>
                                        <rect fill="#000000" x="6" y="11" width="9" height="2" rx="1"/>
                                        <rect fill="#000000" x="6" y="15" width="5" height="2" rx="1"/>
                                    </g>
                                </svg></span>
                                <span *ngIf="!item.orderId">-</span>
                        </td>
                        <td class="datatable-cell" style="width: 10%;">
                            {{(item.no || '-')}}
                        </td>
                    </tr>
                    <span *ngIf="!positions || !positions.length" class="datatable-error">
                        {{'word.there-are-no-records-at-the-moment' | translate}}
                        <div class="text-center">
                            <span class="svg-icon svg-icon-primary svg-icon-10x">
                                <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="24px" viewBox="0 0 24 24" version="1.1">
                                <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                                    <rect x="0" y="0" width="24" height="24"/>
                                    <path d="M11.1669899,4.49941818 L2.82535718,19.5143571 C2.557144,19.9971408 2.7310878,20.6059441 3.21387153,20.8741573 C3.36242953,20.9566895 3.52957021,21 3.69951446,21 L21.2169432,21 C21.7692279,21 22.2169432,20.5522847 22.2169432,20 C22.2169432,19.8159952 22.1661743,19.6355579 22.070225,19.47855 L12.894429,4.4636111 C12.6064401,3.99235656 11.9909517,3.84379039 11.5196972,4.13177928 C11.3723594,4.22181902 11.2508468,4.34847583 11.1669899,4.49941818 Z" fill="#000000" opacity="0.3"/>
                                    <rect fill="#000000" x="11" y="9" width="2" height="7" rx="1"/>
                                    <rect fill="#000000" x="11" y="17" width="2" height="2" rx="1"/>
                                </g>
                            </svg>
                            </span>
                          </div>
                    </span>
                </tbody>
            </table>
            <div pagination [page]="pagedSummary.currentPage" [total]="pagedSummary.totalPages"
                class="datatable-pager datatable-paging-loaded" (pageChange)="list({ page: $event })">
            </div>
        </div>
    </div>
</div>
