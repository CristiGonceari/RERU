<app-loading-spinner *ngIf="isLoading" [contentHeight]="'80vh'" [height]="'5rem'" [width]="'5rem'"
[colorClass]="'text-primary'">
</app-loading-spinner>
<div class="content d-flex flex-column flex-column-fluid" id="kt_content" *ngIf="!isLoading">
    <div class="d-flex flex-column-fluid">
        <div class="container">
            <div class="row">
                <div class="col">
                    <div class="card card-custom gutter-b card-stretch card-shadowless">
                        <div class="card-body">
                            <mat-vertical-stepper (selectionChange)="selectionChanged($event)" #stepper >
                                <mat-step *ngFor="let item of steps; let index = index;"  [completed]="counter" [state]="state" class="w-100">
                                    <ng-template matStepLabel class="w-100">
                                        <div class="row align-items-center w-100">
                                            <div class="col-lg-2 col-md">
                                                {{ 'step.' + stepsEnum[parseInt(item.value)] | translate}}
                                            </div>
                                            <div class="col-lg-6 col-md mt-5">
                                                <div *ngIf="item.isDone" class="alert alert-success"> <strong>{{ 'step-status.done' | translate}}</strong></div>
                                                <div *ngIf="!item.isDone" class="alert alert-danger"><strong>{{ 'step-status.not-done' | translate}}</strong></div>
                                            </div>
                                        </div>
                                      </ng-template>
                                    <div *ngIf="loadingStep">
                                        <mat-spinner></mat-spinner>
                                    </div>
                                    <div *ngIf="!loadingStep">
                                        <router-outlet *ngIf="index === selectedStepIndex" ></router-outlet>
                                    </div>
                                </mat-step>
                            </mat-vertical-stepper>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
