<div class="d-flex flex-column">
    <mat-accordion class="gutter-b">
        <mat-expansion-panel [expanded]="true">
            <mat-expansion-panel-header>
                <mat-panel-title>
                    <div class="row">
                        <div class="col">
                            <h4 class="d-sm-block d-none">{{'step.Study' | translate}}</h4>
                            <h4 class="d-sm-none d-block font-size-small">{{'step.Study' | translate}}</h4>
                        </div>
                    </div>
                </mat-panel-title>
                <mat-panel-description class="align-items-center justify-content-end">
                    {{ 'step-obligation.obligatory' | translate }}
                </mat-panel-description>
            </mat-expansion-panel-header>
            <form *ngIf="studyForm" class="col-xl mb-md-3 mb-0" [formGroup]="studyForm">
                <app-loading-spinner *ngIf="isLoadingStudies" contentHeight="20rem" height="5rem" width="5rem"
                    colorClass="text-primary"></app-loading-spinner>
                <div *ngIf="!isLoadingStudies">
                    <div formArrayName="studies" class="ml-0 mt-lg-10 mt-0">
                        <div class="box-square" [ngClass]="{'more': studyForm.controls.studies.controls.length > 1  &&
                                (studyForm.controls.studies.controls.length - 1) !== i}"
                            [ngClass]="i > 0 ? 'pt-5' : ''"
                            *ngFor="let study of studyForm.controls.studies.controls;let i = index">
                            <div [formGroupName]="i">
                                <div class="row justify-content-center">
                                    <app-stepper-arrow-hint class="d-md-block d-none"
                                        *ngIf="study.value.studyTypeId == null || study.value.studyTypeId == 'null'"
                                        [description]="'stepper.select-value' | translate"></app-stepper-arrow-hint>
                                    <app-stepper-arrow-hint-down class="d-md-none d-block"
                                        *ngIf="study.value.studyTypeId == null || study.value.studyTypeId == 'null'"
                                        [description]="'stepper.select-value' | translate"></app-stepper-arrow-hint-down>
                                    <div class="col-xl-6 col-12">
                                        <div class="form-group row required">
                                            <label class="col-xl-3 col-lg-3 col-form-label"
                                                for="studyTypeId">{{'study.study-type' | translate}}</label>
                                            <div class="col-lg-9 col-xl-9">
                                                <select class="form-control" formControlName="studyTypeId"
                                                    (change)="studyTypeFieldsValidator(i)">
                                                    <option value="null">{{'module-access.select' | translate}}</option>
                                                    <option *ngFor="let item of studyTypes" [value]="item.value">{{
                                                        'studyTypes.' + item.translateId | translate}}
                                                    </option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="card-body border">
                                    <app-loading-spinner *ngIf="isLoadingStudiesContent" contentHeight="20rem"
                                        height="5rem" width="5rem" colorClass="text-primary"></app-loading-spinner>
                                    <div *ngIf="enableFirstStudyTypeForm(study.value) && !isLoadingStudiesContent">
                                        <div class="row">
                                            <div class="col-xl-6 col-12">
                                                <div class="form-group row required">
                                                    <label
                                                        class="col-xl-3 col-lg-3 col-form-label">{{'study.institution' | translate}}</label>
                                                    <div class="col-lg-9 col-xl-9">
                                                        <input formControlName="institution" autocomplete="off"
                                                            class="form-control form-control-solid" type="text"
                                                            [placeholder]="'study.institution' | translate"
                                                            [ngClass]="inputValidator(study, 'institution')" />
                                                        <div *ngIf="isInvalidPattern(study, 'institution')"
                                                            class="invalid-feedback d-block">
                                                            {{'validations.only-letters-and-dash' | translate}}</div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-xl-6 col-12">
                                                <div class="form-group row required">
                                                    <label
                                                        class="col-xl-3 col-lg-3 col-form-label text-right">{{'study.institution-address'| translate}}</label>
                                                    <div class="col-lg-9 col-xl-9">
                                                        <input formControlName="institutionAddress" autocomplete="off"
                                                            class="form-control form-control-solid" type="text"
                                                            [placeholder]="'study.institution-address' | translate"
                                                            [ngClass]="inputValidator(study, 'institutionAddress')" />
                                                        <div *ngIf="isInvalidPattern(study, 'institutionAddress')"
                                                            class="invalid-feedback d-block">
                                                            {{'validations.only-letters-numbers-and-dash' | translate}}
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-xl-6 col-12">
                                                <div class="form-group row required">
                                                    <label
                                                        class="col-xl-3 col-lg-3 col-form-label">{{'study.year-of-admision'|
                                                        translate}}</label>
                                                    <div class="col-lg-9 col-xl-9">
                                                        <input formControlName="yearOfAdmission" autocomplete="off"
                                                            class="form-control form-control-solid" type="text"
                                                            maxlength="4" minlength="4"
                                                            [placeholder]="'study.year-of-admision' | translate"
                                                            [ngClass]="inputValidator(study, 'yearOfAdmission')" />
                                                        <div *ngIf="isLengthValidator(study, 'yearOfAdmission') || isInvalidPattern(study, 'yearOfAdmission')"
                                                            class="invalid-feedback d-block">
                                                            {{'validations.only-year' | translate}}</div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-xl-6 col-12">
                                                <div class="form-group row required">
                                                    <label
                                                        class="col-xl-3 col-lg-3 col-form-label text-right">{{'study.graduation-year' | translate}}</label>
                                                    <div class="col-lg-9 col-xl-9">
                                                        <input formControlName="graduationYear" autocomplete="off"
                                                            class="form-control form-control-solid" type="text"
                                                            maxlength="4" minlength="4"
                                                            [placeholder]="'study.graduation-year' | translate"
                                                            [ngClass]="inputValidator(study, 'graduationYear')" />
                                                        <div *ngIf="isLengthValidator(study, 'graduationYear') || isInvalidPattern(study, 'graduationYear')"
                                                            class="invalid-feedback d-block">
                                                            {{'validations.only-year' | translate}}</div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-xl-6 col-12">
                                                <div class="form-group row required">
                                                    <label class="col-xl-3 col-lg-3 col-form-label"
                                                        for="studyProfile">{{'study.profile' | translate}}</label>
                                                    <div class="col-lg-9 col-xl-9">
                                                        <select class="form-control" formControlName="studyProfile"
                                                            [ngClass]="inputValidator(study, 'studyProfile')">
                                                            <option value="null">{{'module-access.select' | translate}}
                                                            </option>
                                                            <option *ngFor="let item of studyProfilesEnum"
                                                                [value]="item.value">{{'study-profiles.' + item.value | translate}}
                                                            </option>
                                                        </select>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col">
                                                <div class="form-group row required">
                                                    <label
                                                        class="col-xl-6 col-lg-6 col-form-label">{{'study.study-act-name' | translate}}</label>
                                                </div>
                                                <div class="form-group row">
                                                    <div class="col-lg-4 col-xl-4">
                                                        <input formControlName="studyActSeries" autocomplete="off"
                                                            class="form-control form-control-solid" type="text"
                                                            [placeholder]="'study.study-act-series' | translate"
                                                            [ngClass]="inputValidator(study, 'studyActSeries')" />
                                                        <div *ngIf="isInvalidPattern(study, 'studyActSeries')"
                                                            class="invalid-feedback d-block">
                                                            {{'validations.only-letters-and-dash' | translate}}</div>
                                                    </div>
                                                    <div class="col-lg-4 col-xl-4">
                                                        <input formControlName="studyActNumber" autocomplete="off"
                                                            class="form-control form-control-solid" type="text"
                                                            [placeholder]="'study.study-act-number' | translate"
                                                            [ngClass]="inputValidator(study, 'studyActNumber')" />
                                                        <div *ngIf="isInvalidPattern(study, 'studyActNumber')"
                                                            class="invalid-feedback d-block">
                                                            {{'validations.only-numbers' | translate}}</div>
                                                    </div>
                                                    <div class="col-lg-4 col-xl-4">
                                                        <app-stepper-date-time [parent]="study"
                                                            [date]="'studyActRelaseDay'"
                                                            [placeholder]="'study.study-act-emitted-date' | translate"></app-stepper-date-time>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div *ngIf="enableSecondStudyTypeForm(study.value)&& !isLoadingStudiesContent">
                                        <div class="row">
                                            <div class="col-xl-6 col-12">
                                                <div class="form-group row required">
                                                    <label
                                                        class="col-xl-3 col-lg-3 col-form-label">{{'study.institution' | translate}}</label>
                                                    <div class="col-lg-9 col-xl-9">
                                                        <input formControlName="institution" autocomplete="off"
                                                            class="form-control form-control-solid" type="text"
                                                            [placeholder]="'study.institution' | translate"
                                                            [ngClass]="inputValidator(study, 'institution')" />
                                                        <div *ngIf="isInvalidPattern(study, 'institution')"
                                                            class="invalid-feedback d-block">
                                                            {{'validations.only-letters-and-dash' | translate}}</div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-xl-6 col-12">
                                                <div class="form-group row required">
                                                    <label
                                                        class="col-xl-3 col-lg-3 col-form-label text-right">{{'study.institution-address'|translate}}</label>
                                                    <div class="col-lg-9 col-xl-9">
                                                        <input formControlName="institutionAddress" autocomplete="off"
                                                            class="form-control form-control-solid" type="text"
                                                            [placeholder]="'study.institution-address' | translate"
                                                            [ngClass]="inputValidator(study, 'institutionAddress')" />
                                                        <div *ngIf="isInvalidPattern(study, 'institutionAddress')"
                                                            class="invalid-feedback d-block">
                                                            {{'validations.only-letters-and-dash' | translate}}</div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-xl-6 col-12">
                                                <div class="form-group row required">
                                                    <label class="col-xl-3 col-lg-3 col-form-label">{{'study.study-form' | translate}}</label>
                                                    <div class="col-lg-9 col-xl-9">
                                                        <select class="form-control" formControlName="studyFrequency"
                                                            [ngClass]="inputValidator(study, 'studyFrequency')">
                                                            <option value="null">{{'module-access.select' | translate}}
                                                            </option>
                                                            <option *ngFor="let item of studyFrequences"
                                                                [value]="item.value">{{
                                                                'studyFrequency.' + item.label | translate}}</option>
                                                        </select>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-xl-6 col-12">
                                                <div class="form-group row required">
                                                    <label class="col-xl-3 col-lg-3 col-form-label">{{'study.specialty' | translate}}</label>
                                                    <div class="col-lg-9 col-xl-9">
                                                        <input formControlName="specialty" autocomplete="off"
                                                            class="form-control form-control-solid" type="text"
                                                            [placeholder]="'study.specialty' | translate"
                                                            [ngClass]="inputValidator(study, 'specialty')" />
                                                        <div *ngIf="isInvalidPattern(study, 'specialty')"
                                                            class="invalid-feedback d-block">
                                                            {{'validations.only-letters-and-dash' | translate}}</div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-xl-6 col-12">
                                                <div class="form-group row required"
                                                    *ngIf="disableSecondStudyTypeField(study.value)">
                                                    <label
                                                        class="col-xl-3 col-lg-3 col-form-label text-right">{{'study.qualification' | translate}}</label>
                                                    <div class="col-lg-9 col-xl-9">
                                                        <input formControlName="qualification" autocomplete="off"
                                                            class="form-control form-control-solid" type="text"
                                                            [placeholder]="'study.qualification' | translate"
                                                            [ngClass]="inputValidator(study, 'qualification')" />
                                                        <div *ngIf="isInvalidPattern(study, 'qualification')"
                                                            class="invalid-feedback d-block">
                                                            {{'validations.only-letters-and-dash' | translate}}</div>
                                                    </div>
                                                </div>
                                                <div class="form-group row required"
                                                    *ngIf="!disableSecondStudyTypeField(study.value)">
                                                    <label
                                                        class="col-xl-3 col-lg-3 col-form-label text-right">{{'study.doctor-title' | translate}}</label>
                                                    <div class="col-lg-9 col-xl-9">
                                                        <input formControlName="title" autocomplete="off"
                                                            class="form-control form-control-solid" type="text"
                                                            [placeholder]="'study.doctor-title' | translate"
                                                            [ngClass]="inputValidator(study, 'title')" />
                                                        <div *ngIf="isInvalidPattern(study, 'title')"
                                                            class="invalid-feedback d-block">
                                                            {{'validations.only-letters-and-dash' | translate}}</div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-xl-6 col-12">
                                                <div class="form-group row required">
                                                    <label
                                                        class="col-xl-3 col-lg-3 col-form-label">{{'study.year-of-admision'|translate}}</label>
                                                    <div class="col-lg-9 col-xl-9">
                                                        <input formControlName="yearOfAdmission" autocomplete="off"
                                                            class="form-control form-control-solid" type="text"
                                                            maxlength="4" minlength="4"
                                                            [placeholder]="'study.year-of-admision' | translate"
                                                            [ngClass]="inputValidator(study, 'yearOfAdmission')" />
                                                        <div *ngIf="isLengthValidator(study, 'yearOfAdmission') || isInvalidPattern(study, 'yearOfAdmission')"
                                                            class="invalid-feedback d-block">
                                                            {{'validations.only-year' | translate}}</div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-xl-6 col-12">
                                                <div class="form-group row required">
                                                    <label
                                                        class="col-xl-3 col-lg-3 col-form-label text-right">{{'study.graduation-year'|translate}}</label>
                                                    <div class="col-lg-9 col-xl-9">
                                                        <input formControlName="graduationYear" autocomplete="off"
                                                            class="form-control form-control-solid" type="text"
                                                            maxlength="4" minlength="4"
                                                            [placeholder]="'study.graduation-year' | translate"
                                                            [ngClass]="inputValidator(study, 'graduationYear')" />
                                                        <div *ngIf="isLengthValidator(study, 'graduationYear') || isInvalidPattern(study, 'graduationYear')"
                                                            class="invalid-feedback d-block">
                                                            {{'validations.only-year' | translate}}</div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col">
                                                <div class="form-group row required">
                                                    <label *ngIf="disableSecondStudyTypeField(study.value)"
                                                        class="col-xl-6 col-lg-6 col-form-label">{{'study.study-act-name' | translate}}</label>
                                                    <label *ngIf="!disableSecondStudyTypeField(study.value)"
                                                        class="col-xl-6 col-lg-6 col-form-label">{{'study.diploma-act-name' | translate}}</label>
                                                </div>
                                                <div class="form-group row">
                                                    <div class="col-lg-4 col-xl-4">
                                                        <input formControlName="studyActSeries" autocomplete="off"
                                                            class="form-control form-control-solid" type="text"
                                                            [placeholder]="'study.study-act-series' | translate"
                                                            [ngClass]="inputValidator(study, 'studyActSeries')" />
                                                        <div *ngIf="isInvalidPattern(study, 'studyActSeries')"
                                                            class="invalid-feedback d-block">
                                                            {{'validations.only-letters-and-dash' | translate}}</div>
                                                    </div>
                                                    <div class="col-lg-4 col-xl-4">
                                                        <input formControlName="studyActNumber" autocomplete="off"
                                                            class="form-control form-control-solid" type="text"
                                                            [placeholder]="'study.study-act-number' | translate"
                                                            [ngClass]="inputValidator(study, 'studyActNumber')" />
                                                        <div *ngIf="isInvalidPattern(study, 'studyActNumber')"
                                                            class="invalid-feedback d-block">
                                                            {{'validations.only-numbers' | translate}}</div>
                                                    </div>
                                                    <div class="col-lg-4 col-xl-4">
                                                        <app-stepper-date-time [parent]="study"
                                                            [date]="'studyActRelaseDay'"
                                                            [placeholder]="'study.study-act-emitted-date' | translate"></app-stepper-date-time>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                    </div>
                                    <div *ngIf="enableThirdStudyTypeForm(study.value)&& !isLoadingStudiesContent">
                                        <div class="row">
                                            <div class="col-xl-6 col-12">
                                                <div class="form-group row required">
                                                    <label
                                                        class="col-xl-3 col-lg-3 col-form-label">{{'study.institution' | translate}}</label>
                                                    <div class="col-lg-9 col-xl-9">
                                                        <input formControlName="institution" autocomplete="off"
                                                            class="form-control form-control-solid" type="text"
                                                            [placeholder]="'study.institution' | translate"
                                                            [ngClass]="inputValidator(study, 'institution')" />
                                                        <div *ngIf="isInvalidPattern(study, 'institution')"
                                                            class="invalid-feedback d-block">
                                                            {{'validations.only-letters-and-dash' | translate}}</div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-xl-6 col-12">
                                                <div class="form-group row required">
                                                    <label
                                                        class="col-xl-3 col-lg-3 col-form-label text-right">{{'study.institution-address'| translate}}</label>
                                                    <div class="col-lg-9 col-xl-9">
                                                        <input formControlName="institutionAddress" autocomplete="off"
                                                            class="form-control form-control-solid" type="text"
                                                            [placeholder]="'study.institution-address' | translate"
                                                            [ngClass]="inputValidator(study, 'institutionAddress')" />
                                                        <div *ngIf="isInvalidPattern(study, 'institutionAddress')"
                                                            class="invalid-feedback d-block">
                                                            {{'validations.only-letters-and-dash' | translate}}</div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-xl-6 col-12">
                                                <div class="form-group row required">
                                                    <label class="col-xl-3 col-lg-3 col-form-label">{{'study.study-form' | translate}}</label>
                                                    <div class="col-lg-9 col-xl-9">
                                                        <select class="form-control" formControlName="studyFrequency"
                                                            [ngClass]="inputValidator(study, 'studyFrequency')">
                                                            <option value="null">{{'module-access.select' | translate}}
                                                            </option>
                                                            <option *ngFor="let item of studyFrequences"
                                                                [value]="item.value">{{
                                                                'studyFrequency.' + item.label | translate}}</option>
                                                        </select>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-xl-6 col-12">
                                                <div class="form-group row required">
                                                    <label
                                                        class="col-xl-3 col-lg-3 col-form-label text-right">{{'study.faculty'| translate}}</label>
                                                    <div class="col-lg-9 col-xl-9">
                                                        <input formControlName="faculty" autocomplete="off"
                                                            class="form-control form-control-solid" type="text"
                                                            [placeholder]="'study.faculty' | translate"
                                                            [ngClass]="inputValidator(study, 'faculty')" />
                                                        <div *ngIf="isInvalidPattern(study, 'faculty') && isLengthValidator(study, 'faculty')"
                                                            class="invalid-feedback d-block">
                                                            {{'validations.only-letters-and-dash' | translate}}</div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-xl-6 col-12">
                                                <div class="form-group row required"
                                                    *ngIf="disableThirdStudyTypeField(study.value)">
                                                    <label
                                                        class="col-xl-3 col-lg-3 col-form-label">{{'study.qualification'| translate}}</label>
                                                    <div class="col-lg-9 col-xl-9">
                                                        <input formControlName="qualification" autocomplete="off"
                                                            class="form-control form-control-solid" type="text"
                                                            [placeholder]="'study.qualification' | translate"
                                                            [ngClass]="inputValidator(study, 'qualification')" />
                                                        <div *ngIf="isInvalidPattern(study, 'qualification')"
                                                            class="invalid-feedback d-block">
                                                            {{'validations.only-letters-and-dash' | translate}}</div>
                                                    </div>
                                                </div>
                                                <div class="form-group row required"
                                                    *ngIf="!disableThirdStudyTypeField(study.value)">
                                                    <label
                                                        class="col-xl-3 col-lg-3 col-form-label">{{'study.study-title' | translate}}</label>
                                                    <div class="col-lg-9 col-xl-9">
                                                        <input formControlName="title" autocomplete="off"
                                                            class="form-control form-control-solid" type="text"
                                                            [placeholder]="'study.study-title' | translate"
                                                            [ngClass]="inputValidator(study, 'title')" />
                                                        <div *ngIf="isInvalidPattern(study, 'title')"
                                                            class="invalid-feedback d-block">
                                                            {{'validations.only-letters-and-dash' | translate}}</div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-xl-6 col-12">
                                                <div class="form-group row required">
                                                    <label
                                                        class="col-xl-3 col-lg-3 col-form-label text-right">{{'study.specialty' | translate}}</label>
                                                    <div class="col-lg-9 col-xl-9">
                                                        <input formControlName="specialty" autocomplete="off"
                                                            class="form-control form-control-solid" type="text"
                                                            [placeholder]="'study.specialty' | translate"
                                                            [ngClass]="inputValidator(study, 'specialty')" />
                                                        <div *ngIf="isInvalidPattern(study, 'specialty')"
                                                            class="invalid-feedback d-block">
                                                            {{'validations.only-letters-and-dash' | translate}}</div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-xl-6 col-12">
                                                <div class="form-group row required">
                                                    <label
                                                        class="col-xl-3 col-lg-3 col-form-label">{{'study.year-of-admision'|translate}}</label>
                                                    <div class="col-lg-9 col-xl-9">
                                                        <input formControlName="yearOfAdmission" autocomplete="off"
                                                            class="form-control form-control-solid" type="text"
                                                            maxlength="4" minlength="4"
                                                            [placeholder]="'study.year-of-admision' | translate"
                                                            [ngClass]="inputValidator(study, 'yearOfAdmission')" />
                                                        <div *ngIf="isLengthValidator(study, 'yearOfAdmission') || isInvalidPattern(study, 'yearOfAdmission')"
                                                            class="invalid-feedback d-block">
                                                            {{'validations.only-year' | translate}}</div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-xl-6 col-12">
                                                <div class="form-group row required">
                                                    <label
                                                        class="col-xl-3 col-lg-3 col-form-label text-right">{{'study.graduation-year'|translate}}</label>
                                                    <div class="col-lg-9 col-xl-9">
                                                        <input formControlName="graduationYear" autocomplete="off"
                                                            class="form-control form-control-solid" type="text"
                                                            maxlength="4" minlength="4"
                                                            [placeholder]="'study.graduation-year' | translate"
                                                            [ngClass]="inputValidator(study, 'graduationYear')" />
                                                        <div *ngIf="isLengthValidator(study, 'graduationYear') || isInvalidPattern(study, 'graduationYear')"
                                                            class="invalid-feedback d-block">
                                                            {{'validations.only-year' | translate}}</div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col">
                                                <div class="form-group row required">
                                                    <label
                                                        class="col-xl-6 col-lg-6 col-form-label">{{'study.study-act-name' | translate}}</label>
                                                </div>
                                                <div class="form-group row">
                                                    <div class="col-lg-4 col-xl-4">
                                                        <input formControlName="studyActSeries" autocomplete="off"
                                                            class="form-control form-control-solid" type="text"
                                                            [placeholder]="'study.study-act-series' | translate"
                                                            [ngClass]="inputValidator(study, 'studyActSeries')" />
                                                        <div *ngIf="isInvalidPattern(study, 'studyActSeries')"
                                                            class="invalid-feedback d-block">
                                                            {{'validations.only-letters-and-dash' | translate}}</div>
                                                    </div>
                                                    <div class="col-lg-4 col-xl-4">
                                                        <input formControlName="studyActNumber" autocomplete="off"
                                                            class="form-control form-control-solid" type="text"
                                                            [placeholder]="'study.study-act-number' | translate"
                                                            [ngClass]="inputValidator(study, 'studyActNumber')" />
                                                        <div *ngIf="isInvalidPattern(study, 'studyActNumber')"
                                                            class="invalid-feedback d-block">
                                                            {{'validations.only-letters-and-dash' | translate}}</div>
                                                    </div>
                                                    <div class="col-lg-4 col-xl-4">
                                                        <app-stepper-date-time [parent]="study"
                                                            [date]="'studyActRelaseDay'"
                                                            [placeholder]="'study.study-act-emitted-date' | translate"></app-stepper-date-time>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div *ngIf="enableFourthStudyTypeForm(study.value)&& !isLoadingStudiesContent">
                                        <div class="row">
                                            <div class="col-xl-6 col-12">
                                                <div class="form-group row required">
                                                    <label class="col-xl-3 col-lg-3 col-form-label"
                                                        for="studyCourse">{{'study.study-coureses-type' | translate}}</label>
                                                    <div class="col-lg-9 col-xl-9">
                                                        <select class="form-control" formControlName="studyCourse"
                                                            [ngClass]="inputValidator(study, 'studyCourse')">
                                                            <option value="null">{{'module-access.select' | translate}}
                                                            </option>
                                                            <option *ngFor="let item of studyCoursesEnum"
                                                                [value]="item.value">{{
                                                                'study-courses.' + item.value | translate}}
                                                            </option>
                                                        </select>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-xl-6 col-12">
                                                <div class="form-group row required">
                                                    <label
                                                        class="col-xl-3 col-lg-3 col-form-label ">{{'study.institution' | translate}}</label>
                                                    <div class="col-lg-9 col-xl-9">
                                                        <input formControlName="institution" autocomplete="off"
                                                            class="form-control form-control-solid" type="text"
                                                            [placeholder]="'study.institution' | translate"
                                                            [ngClass]="inputValidator(study, 'institution')" />
                                                        <div *ngIf="isInvalidPattern(study, 'institution')"
                                                            class="invalid-feedback d-block">
                                                            {{'validations.only-letters-and-dash' | translate}}</div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-xl-6 col-12">
                                                <div class="form-group row required">
                                                    <label
                                                        class="col-xl-3 col-lg-3 col-form-label text-right">{{'study.institution-address'| translate}}</label>
                                                    <div class="col-lg-9 col-xl-9">
                                                        <input formControlName="institutionAddress" autocomplete="off"
                                                            class="form-control form-control-solid" type="text"
                                                            [placeholder]="'study.institution-address' | translate"
                                                            [ngClass]="inputValidator(study, 'institutionAddress')" />
                                                        <div *ngIf="isInvalidPattern(study, 'institutionAddress')"
                                                            class="invalid-feedback d-block">
                                                            {{'validations.only-letters-and-dash' | translate}}</div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-xl-6 col-12">
                                                <div class="form-group row required">
                                                    <label
                                                        class="col-xl-3 col-lg-3 col-form-label">{{'study.qualification' | translate}}</label>
                                                    <div class="col-lg-9 col-xl-9">
                                                        <input formControlName="qualification" autocomplete="off"
                                                            class="form-control form-control-solid" type="text"
                                                            [placeholder]="'study.qualification' | translate"
                                                            [ngClass]="inputValidator(study, 'qualification')" />
                                                        <div *ngIf="isInvalidPattern(study, 'qualification')"
                                                            class="invalid-feedback d-block">
                                                            {{'validations.only-letters-and-dash' | translate}}</div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-xl-6 col-12">
                                                <div class="form-group row required">
                                                    <label
                                                        class="col-xl-3 col-lg-3 col-form-label text-right">{{'study.study-credit-number' | translate}}</label>
                                                    <div class="col-lg-9 col-xl-9">
                                                        <input formControlName="creditCount" autocomplete="off"
                                                            class="form-control form-control-solid" type="number"
                                                            [placeholder]="'study.study-credit-number' | translate"
                                                            [ngClass]="inputValidator(study, 'creditCount')" />
                                                        <div *ngIf="isInvalidPattern(study, 'creditCount')"
                                                            class="invalid-feedback d-block">
                                                            {{'validations.only-letters-and-dash' | translate}}</div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-xl-6 col-12">
                                                <div class="form-group row required">
                                                    <div class="col-xl-3 col-lg-3">
                                                        <label class="col-form-label">{{'study.study-period-date' | translate}}</label>
                                                    </div>
                                                    <div class="col-lg-9 col-xl-9">
                                                        <app-stepper-date-time [parent]="study" [date]="'startStudyPeriod'"
                                                        [placeholder]="'study.study-period-start-date' | translate"></app-stepper-date-time>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-xl-6 col-12">
                                                <div class="col-lg-9 col-xl-9">
                                                    <app-stepper-date-time [parent]="study" [date]="'endStudyPeriod'"
                                                    [placeholder]="'study.study-period-end-date' | translate"></app-stepper-date-time>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row mt-5">
                                            <div class="col">
                                                <div class="form-group row required">
                                                    <label
                                                        class="col-xl-6 col-lg-6 col-form-label">{{'study.certificate-act-name'
                                                        |translate}}</label>
                                                </div>
                                                <div class="form-group row">
                                                    <div class="col-lg-4 col-xl-4">
                                                        <input formControlName="studyActSeries" autocomplete="off"
                                                            class="form-control form-control-solid" type="text"
                                                            [placeholder]="'study.study-act-series' | translate"
                                                            [ngClass]="inputValidator(study, 'studyActSeries')" />
                                                        <div *ngIf="isInvalidPattern(study, 'studyActSeries')"
                                                            class="invalid-feedback d-block">
                                                            {{'validations.only-letters-and-dash' | translate}}</div>
                                                    </div>
                                                    <div class="col-lg-4 col-xl-4">
                                                        <input formControlName="studyActNumber" autocomplete="off"
                                                            class="form-control form-control-solid" type="text"
                                                            [placeholder]="'study.study-act-number' | translate"
                                                            [ngClass]="inputValidator(study, 'studyActNumber')" />
                                                        <div *ngIf="isInvalidPattern(study, 'studyActNumber')"
                                                            class="invalid-feedback d-block">
                                                            {{'validations.only-letters-and-dash' | translate}}</div>
                                                    </div>
                                                    <div class="col-lg-4 col-xl-4">
                                                        <app-stepper-date-time [parent]="study"
                                                            [date]="'studyActRelaseDay'"
                                                            [placeholder]="'study.study-act-emitted-date' | translate"></app-stepper-date-time>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="text-center"
                                        *ngIf="!enableFirstStudyTypeForm(study.value)   && !enableSecondStudyTypeForm(study.value) && !enableThirdStudyTypeForm(study.value) && !enableFourthStudyTypeForm(study.value) && !isLoadingStudiesContent">
                                        {{ 'study.not-selected-study-type' | translate }}
                                    </div>
                                </div>
                            </div>
                            <div *ngIf="i > 0" class="row">
                                <div class="col">
                                    <div class="d-flex justify-content-end">
                                        <button class="btn btn-icon" (click)="removeStudy(i)">
                                            <span class="font-size-h2">&times;</span>
                                        </button>
                                    </div>
                                </div>
                            </div>

                            <div *ngIf="studyForm.controls.studies.controls.length > 1"
                                class="separator separator-dashed"></div>
                        </div>
                    </div>
                    <div class="row pt-4">
                        <div class="col">
                            <div class="d-flex justify-content-between">
                                <button class="btn btn-icon" (click)="addStudy()"><span class="m-5">+ {{
                                        'study.add-study' | translate }}</span></button>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col">
                            <div class="d-flex d-md-none row justify-content-end my-3 mx-0">
                                <app-stepper-arrow-hint-down
                                    *ngIf="userStudies == null && !studyButtonValidator(studyForm.controls.studies.controls)"
                                    [description]="'study.study-add-button-hint' | translate"></app-stepper-arrow-hint-down>
                                <button class="btn btn-success h-35px" *ngIf="addOrEditStudyButton"
                                    [disabled]="studyButtonValidator(studyForm.controls.studies.controls)"
                                    (click)="createStudies()">{{'stepper.button-update' | translate}}</button>
                                <button class="btn btn-outline-success h-35px" *ngIf="!addOrEditStudyButton"
                                    [disabled]="studyButtonValidator(studyForm.controls.studies.controls)"
                                    (click)="createStudies()">{{'stepper.button-add' | translate}}</button>
                            </div>
                            <div class="d-none d-md-flex justify-content-end my-3 ">
                                <app-stepper-arrow-hint
                                    *ngIf="userStudies == null && !studyButtonValidator(studyForm.controls.studies.controls)"
                                    [description]="'study.study-add-button-hint' | translate"></app-stepper-arrow-hint>
                                <button class="btn btn-success h-35px" *ngIf="addOrEditStudyButton"
                                    [disabled]="studyButtonValidator(studyForm.controls.studies.controls)"
                                    (click)="createStudies()">{{'stepper.button-update' | translate}}</button>
                                <button class="btn btn-outline-success h-35px" *ngIf="!addOrEditStudyButton"
                                    [disabled]="studyButtonValidator(studyForm.controls.studies.controls)"
                                    (click)="createStudies()">{{'stepper.button-add' | translate}}</button>
                            </div>
                        </div>
                    </div>
                </div>
            </form>
        </mat-expansion-panel>
    </mat-accordion>
    <mat-accordion class="gutter-b">
        <mat-expansion-panel>
            <mat-expansion-panel-header>
                <mat-panel-title>
                    <div class="row">
                        <div class="col">
                            <h4 class="d-sm-block d-none">{{'language.modern-language-level' | translate}}</h4>
                            <h4 class="d-sm-none d-block font-size-small">{{'language.modern-language-level' | translate}}</h4>
                        </div>
                    </div>
                </mat-panel-title>
                <mat-panel-description class="align-items-center justify-content-end">
                    {{ 'step-obligation.optional' | translate }}
                </mat-panel-description>
            </mat-expansion-panel-header>
            <form *ngIf="languageForm" class="col mb-md-3 mb-0" [formGroup]="languageForm">
                <app-loading-spinner *ngIf="isLoadingLanguages" contentHeight="20rem" height="5rem" width="5rem"
                    colorClass="text-primary"></app-loading-spinner>
                <div *ngIf="!isLoadingLanguages">
                    <div formArrayName="modernLanguages">
                        <div class="d-lg-none d-flex flex-column gap-2">
                            <div class="row" [ngClass]="{'more': languageForm.controls.modernLanguages.controls.length > 1  &&
                                (languageForm.controls.modernLanguages.controls.length - 1) !== i}"
                                *ngFor="let modernLanguage of languageForm.controls.modernLanguages.controls;let i = index"
                                [formGroupName]="i">
                                <div class="col d-flex flex-column gap-4">
                                    <div class="row">
                                        <div class="col">
                                            <p class="font-weight-bolder">{{'table.number' | translate}}</p>
                                        </div>
                                        <div class="col">
                                            <p class="font-weight-bolder text-center">{{i + 1}}</p>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col">
                                            <p class="font-weight-bolder">{{ 'language.name' | translate}}</p>
                                        </div>
                                        <div class="col-12">
                                            <select class="form-control" formControlName="modernLanguageId"
                                                [ngClass]="inputValidator(modernLanguage, 'modernLanguageId')">
                                                <option value="null">{{'module-access.select' | translate}}</option>
                                                <option *ngFor="let item of modernLanguages" [value]="item.value">
                                                    {{item.label }}
                                                </option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col">
                                            <p class="font-weight-bolder">{{ 'language.qualifier' | translate }}</p>
                                        </div>
                                        <div class="col-12">
                                            <select class="form-control form-control-lg form-control-solid"
                                                name="knowledgeQuelifiers" formControlName="knowledgeQuelifiers"
                                                [ngClass]="inputValidator(modernLanguage, 'knowledgeQuelifiers')">
                                                <option value="null">{{'module-access.select' | translate}}</option>
                                                <option *ngFor="let item of knowledgeQuelifiersEnum"
                                                    [value]="item.value">{{
                                                    'languageKnowledge.' + item.label | translate}}</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="row" *ngIf="i > 0">
                                        <div class="col">
                                            <button class="btn btn-icon float-right" (click)="removeModernLanguage(i)">
                                                <span class="font-size-h2">&times;</span>
                                            </button>
                                        </div>
                                    </div>

                                    <div *ngIf="languageForm.controls.modernLanguages.controls.length > 1"
                                        class="separator separator-dashed"></div>
                                </div>
                            </div>
                        </div>
                        <div class="table-responsive d-lg-block d-none">
                            <table class="table">
                                <thead>
                                    <tr>
                                        <th scope="col">{{'table.number' | translate}}</th>
                                        <th scope="col">{{ 'language.name' | translate}}</th>
                                        <th scope="col">{{ 'language.qualifier' |translate }}</th>
                                        <th scope="col" class="w-10px"></th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr [ngClass]="{'more': languageForm.controls.modernLanguages.controls.length > 1  &&
                                    (languageForm.controls.modernLanguages.controls.length - 1) !== i}"
                                        *ngFor="let modernLanguage of languageForm.controls.modernLanguages.controls;let i = index"
                                        [formGroupName]="i">
                                        <th scope="row">{{i + 1}}</th>
                                        <td>
                                            <select class="form-control" formControlName="modernLanguageId"
                                                [ngClass]="inputValidator(modernLanguage, 'modernLanguageId')">
                                                <option value="null">{{'module-access.select' | translate}}</option>
                                                <option *ngFor="let item of modernLanguages" [value]="item.value">
                                                    {{item.label }}
                                                </option>
                                            </select>
                                        </td>
                                        <td>
                                            <select class="form-control" formControlName="knowledgeQuelifiers"
                                                [ngClass]="inputValidator(modernLanguage, 'knowledgeQuelifiers')">
                                                <option value="null">{{'module-access.select' | translate}}</option>
                                                <option *ngFor="let item of knowledgeQuelifiersEnum"
                                                    [value]="item.value">{{
                                                    'languageKnowledge.' + item.label | translate}}</option>
                                            </select>
                                        </td>
                                        <td *ngIf="i > 0">
                                            <button class="btn btn-icon" (click)="removeModernLanguage(i)">
                                                <span class="font-size-h2">&times;</span>
                                            </button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <div class="row pt-4">
                        <div class="col">
                            <div class="d-flex justify-content-between">
                                <button class="btn btn-icon" (click)="addModernLanguage()"><span
                                        class="m-5">+ {{ 'language.add-language' | translate }}</span></button>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col">
                            <div class="d-flex justify-content-end my-3">
                                <button class="btn btn-success h-35px" *ngIf="addOrEditLanguagesButton"
                                    [disabled]="languageForm && languageForm.invalid "
                                    (click)="creteModernLanguage()">{{'stepper.button-update' | translate}}</button>
                                <button class="btn btn-outline-success h-35px" *ngIf="!addOrEditLanguagesButton"
                                    [disabled]="languageForm && languageForm.invalid"
                                    (click)="creteModernLanguage()">{{'stepper.button-add' | translate}}</button>
                            </div>
                        </div>
                    </div>
                </div>
            </form>
        </mat-expansion-panel>
    </mat-accordion>
    <mat-accordion class="gutter-b">
        <mat-expansion-panel>
            <mat-expansion-panel-header>
                <mat-panel-title>
                    <div class="row">
                        <div class="col">
                            <h4 class="d-sm-block d-none">{{'recommendation.recommendation-name' | translate}}</h4>
                            <h4 class="d-sm-none  d-block font-size-small">{{'recommendation.recommendation-name' | translate}}</h4>
                        </div>
                    </div>
                </mat-panel-title>
                <mat-panel-description class="align-items-center justify-content-end">
                    {{ 'step-obligation.optional' | translate }}
                </mat-panel-description>
            </mat-expansion-panel-header>
            <form *ngIf="recommendationForm" class="col mb-md-3 mb-0" [formGroup]="recommendationForm">
                <app-loading-spinner *ngIf="isLoadingRecommandations" contentHeight="20rem" height="5rem" width="5rem"
                    colorClass="text-primary"></app-loading-spinner>
                <div *ngIf="!isLoadingRecommandations">
                    <div formArrayName="recommendation">
                        <div class="d-lg-none d-flex flex-column gap-2">
                            <div class="row" [ngClass]="{'more': recommendationForm.controls.recommendation.controls.length > 1  &&
                                (recommendationForm.controls.recommendation.controls.length - 1) !== i}"
                                *ngFor="let recommendation of recommendationForm.controls.recommendation.controls; let i = index"
                                [formGroupName]="i">
                                <div class="col d-flex flex-column gap-4">
                                    <div class="row">
                                        <div class="col">
                                            <p class="font-weight-bolder">{{'table.number' | translate}}</p>
                                        </div>
                                        <div class="col">
                                            <p class="font-weight-bolder text-center">{{i + 1}}</p>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col">
                                            <p class="font-weight-bolder">{{ 'recommendation.table-user-name' | translate }}</p>
                                        </div>
                                        <div class="col-12">
                                            <input formControlName="name" autocomplete="off"
                                                class="form-control form-control-solid" type="text"
                                                [placeholder]="'recommendation.user-name' | translate"
                                                [ngClass]="inputValidator(recommendation, 'name')" />
                                            <div *ngIf="isInvalidPattern(recommendation, 'name')"
                                                class="invalid-feedback d-block">
                                                {{'validations.only-letters-and-dash' | translate}}
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col">
                                            <p class="font-weight-bolder">{{ 'recommendation.table-user-last-name' | translate }}</p>
                                        </div>
                                        <div class="col-12">
                                            <input formControlName="lastName" autocomplete="off"
                                                class="form-control form-control-solid" type="text"
                                                [placeholder]="'recommendation.last-name' | translate"
                                                [ngClass]="inputValidator(recommendation, 'lastName')" />
                                            <div *ngIf="isInvalidPattern(recommendation, 'lastName')"
                                                class="invalid-feedback d-block">
                                                {{'validations.only-letters-and-dash' | translate}}
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col">
                                            <p class="font-weight-bolder">{{ 'recommendation.table-function' | translate
                                                }}</p>
                                        </div>
                                        <div class="col-12">
                                            <input formControlName="function" autocomplete="off"
                                                class="form-control form-control-solid" type="text"
                                                [placeholder]="'recommendation.table-function' | translate"
                                                [ngClass]="inputValidator(recommendation, 'function')" />
                                            <div *ngIf="isInvalidPattern(recommendation, 'function')"
                                                class="invalid-feedback d-block">
                                                {{'validations.only-letters-numbers-dash-and-dot' | translate}}
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col">
                                            <p class="font-weight-bolder">{{ 'recommendation.table-subdivision' | translate }}</p>
                                        </div>
                                        <div class="col-12">
                                            <input formControlName="subdivision" autocomplete="off"
                                                class="form-control form-control-solid" type="text"
                                                [placeholder]="'recommendation.table-subdivision' | translate"
                                                [ngClass]="inputValidator(recommendation, 'subdivision')" />
                                            <div *ngIf="isInvalidPattern(recommendation, 'subdivision')"
                                                class="invalid-feedback d-block">
                                                {{'validations.only-letters-numbers-dash-and-dot' | translate}}
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row" *ngIf="i > 0">
                                        <div class="col">
                                            <button class="btn btn-icon float-right" (click)="removeRecommendation(i)">
                                                <span class="font-size-h2">&times;</span>
                                            </button>
                                        </div>
                                    </div>

                                    <div *ngIf="languageForm.controls.modernLanguages.controls.length > 1"
                                        class="separator separator-dashed"></div>
                                </div>
                            </div>
                        </div>
                        <div class="table-responsive d-lg-block d-none">
                            <table class="table">
                                <thead>
                                    <tr>
                                        <th scope="col">{{ 'table.number' | translate }}</th>
                                        <th scope="col">{{ 'recommendation.table-user-name' | translate }}</th>
                                        <th scope="col">{{ 'recommendation.table-user-last-name' | translate }}</th>
                                        <th scope="col">{{ 'recommendation.table-function' | translate }}</th>
                                        <th scope="col">{{ 'recommendation.table-subdivision' | translate }}</th>
                                        <th scope="col" class="w-10px" w></th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr [ngClass]="{'more': recommendationForm.controls.recommendation.controls.length > 1  &&
                                            (recommendationForm.controls.recommendation.controls.length - 1) !== i}"
                                        *ngFor="let recommendation of recommendationForm.controls.recommendation.controls; let i = index"
                                        [formGroupName]="i">
                                        <th scope="row">{{i + 1}}</th>
                                        <td>
                                            <input formControlName="name" autocomplete="off"
                                                class="form-control form-control-solid" type="text"
                                                [placeholder]="'recommendation.user-name' | translate"
                                                [ngClass]="inputValidator(recommendation, 'name')" />
                                            <div *ngIf="isInvalidPattern(recommendation, 'name')"
                                                class="invalid-feedback d-block">
                                                {{'validations.only-letters-and-dash' | translate}}
                                            </div>
                                        </td>
                                        <td>
                                            <input formControlName="lastName" autocomplete="off"
                                                class="form-control form-control-solid" type="text"
                                                [placeholder]="'recommendation.last-name' | translate"
                                                [ngClass]="inputValidator(recommendation, 'lastName')" />
                                            <div *ngIf="isInvalidPattern(recommendation, 'lastName')"
                                                class="invalid-feedback d-block">
                                                {{'validations.only-letters-and-dash' | translate}}
                                            </div>
                                        </td>
                                        <td>
                                            <input formControlName="function" autocomplete="off"
                                                class="form-control form-control-solid" type="text"
                                                [placeholder]="'recommendation.table-function' | translate"
                                                [ngClass]="inputValidator(recommendation, 'function')" />
                                            <div *ngIf="isInvalidPattern(recommendation, 'function')"
                                                class="invalid-feedback d-block">
                                                {{'validations.only-letters-numbers-dash-and-dot' | translate}}
                                            </div>
                                        </td>
                                        <td>
                                            <input formControlName="subdivision" autocomplete="off"
                                                class="form-control form-control-solid" type="text"
                                                [placeholder]="'recommendation.table-subdivision' | translate"
                                                [ngClass]="inputValidator(recommendation, 'subdivision')" />
                                            <div *ngIf="isInvalidPattern(recommendation, 'subdivision')"
                                                class="invalid-feedback d-block">
                                                {{'validations.only-letters-numbers-dash-and-dot' | translate}}
                                            </div>
                                        </td>
                                        <td *ngIf="i > 0">
                                            <button class="btn btn-icon" (click)="removeRecommendation(i)">
                                                <span class="font-size-h2">&times;</span>
                                            </button>
                                        </td>
                                    </tr>
                                </tbody>

                            </table>
                        </div>
                    </div>
                    <div class="row pt-4">
                        <div class="col">
                            <div class="d-flex justify-content-between">
                                <button class="btn btn-icon" (click)="addRecommandation()"><span
                                        class="m-5">+ {{ 'recommendation.add-recommendation' | translate }}</span></button>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col">
                            <div class="d-flex justify-content-end my-3">
                                <button class="btn btn-success h-35px" *ngIf="addOrEditRecommendationsButton"
                                    [disabled]="recommendationForm && recommendationForm.invalid "
                                    (click)="createRecommendationForStudy()">{{'stepper.button-update' | translate}}</button>
                                <button class="btn btn-outline-success h-35px" *ngIf="!addOrEditRecommendationsButton"
                                    [disabled]="recommendationForm && recommendationForm.invalid"
                                    (click)="createRecommendationForStudy()">{{'stepper.button-add' | translate}}</button>
                            </div>
                        </div>
                    </div>
                </div>
            </form>
        </mat-expansion-panel>
    </mat-accordion>
    <div class="row m-0">
        <div class="col">
            <div class="row d-flex justify-content-end">
                <app-stepper-arrow-hint class="d-md-block d-none" *ngIf="userStudies != null"
                    [description]="'stepper.button-next-hint' | translate"></app-stepper-arrow-hint>
                <app-stepper-arrow-hint-down class="d-md-none d-block" *ngIf="userStudies != null"
                    [description]="'stepper.button-next-hint' | translate"></app-stepper-arrow-hint-down>
                <button class="btn btn-success h-35px" matStepperNext [disabled]="(userStudies == null)"
                    (click)="addRegistrationFluxStep()">{{'stepper.button-next' | translate}}</button>
            </div>
        </div>
    </div>
</div>