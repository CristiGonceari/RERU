<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
</head>

<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark p-0">
        <div class="container-fluid">
            <div class="d-flex pt-2">
                <img src="../../../assets/logo_2.png" alt="..." class="img-thumbnail" style="max-height: 40px;">
                <h2 style="color: white;" class="ml-3 pt-1 mb-3">
                    {{'vacant-positions-page.title' | translate }}</h2>
            </div>
            <div class=" d-flex justify-content-end" id="navbarSupportedContent">
                <div class="topbar">
                    <div ngbDropdown #languageDropdown="ngbDropdown" class="dropdown">
                        <div class="topbar-item mr-4" data-toggle="dropdown" data-offset="10px,0px"
                            aria-expanded="false">
                            <div ngbDropdownToggle id="languageDropdown" class="btn btn-light-primary px-3">
                                {{ getLang() }}
                            </div>
                        </div>
                        <div ngbDropdownMenu aria-labelledby="languageDropdown"
                            style="border-radius: 7px; border: white;"
                            class="dropdown-menu p-0 m-0 dropdown-menu-left dropdown-menu-anim-up">
                            <ul class="navi navi-hover py-3">
                                <li class="navi-item">
                                    <a href="javascript:;" (click)="useLanguage('ro'); languageDropdown.close()"
                                        class="navi-link text-decoration-none">
                                        <span class="navi-text">Română</span>
                                    </a>
                                </li>
                                <li class="navi-item">
                                    <a href="javascript:;" (click)="useLanguage('en'); languageDropdown.close()"
                                        class="navi-link text-decoration-none">
                                        <span class="navi-text">English</span>
                                    </a>
                                </li>
                                <li class="navi-item">
                                    <a href="javascript:;" (click)="useLanguage('ru'); languageDropdown.close()"
                                        class="navi-link text-decoration-none">
                                        <span class="navi-text">Русский</span>
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </div>
                    <div class="topbar-item" style="white-space: nowrap;">
                        <button type="button" class="btn btn-primary btn-lg"
                            style="padding-left: 2.5rem; padding-right: 2.5rem;" [routerLink]="['../']">{{ 'login.login'
                            | translate }}</button>
                    </div>
                </div>
            </div>
        </div>
    </nav>
    <div class="container-fluid" style="background-color: #eff1f3;"
        [ngClass]="{'first': positions.length > 2, 'second': positions.length < 2}">
        <div class="container">
            <div class="row p-3 mt-4">
                <div class="col-xl-12 col-lg-12 col-md-12 col-xs-12"
                    style="padding: 2.25rem; background-color: #fff; border: 1px solid #dee2e6; border-radius: 0.25rem; max-width: 100%; height: auto; margin-left: 4%">
                    <h2 class="text-center" style="margin-bottom: 2.25rem;">
                        {{'vacant-positions-page.details' | translate }}</h2>
                    <div class="row">
                        <div class="col-md-10 col-12 mb-md-0 mb-3">
                            <erp-shared-search-input (handleSearch)="get({name: $event, page: 1, itemsPerPage: pagination.pageSize})" [placeholder]="'button.search' | translate" #search></erp-shared-search-input>
                        </div>
                        <div class="col-md-2 col-12">
                            <app-button (click)="search.clear()" [value]="'button.reset' | translate" class="font-size-h5 h-100"
                            [ngClass]="{'bg-primary': search.key.length}"></app-button>
                        </div>
                    </div>
                    <app-loading-spinner *ngIf="isLoading" [contentHeight]="'10vh'" [height]="'5rem'" [width]="'5rem'"
                        [colorClass]="'text-danger'">
                    </app-loading-spinner>
                    <div *ngIf="!isLoading" id="kt_datatable"
                        class="table-responsive datatable datatable-bordered datatable-head-custom datatable-default datatable-primary datatable-loaded">
                        <table *ngIf="!isLoading" class="datatable table font-size-lg" style="overflow: visible">
                            <thead class="text-uppercase text-muted">
                                <tr>
                                    <th scope="col" style="width: 200px;">{{'sidebar.positions' | translate}}</th>
                                    <th scope="col">{{'table.description' | translate}}</th>
                                    <th scope="col">{{'vacant-positions-page.available-from' | translate }}</th>
                                    <th scope="col">{{'vacant-positions-page.available-to' | translate }}</th>
                                </tr>
                            </thead>
                            <tbody class="datatable-body" *ngIf="positions">
                                <tr *ngFor="let item of positions">
                                    <td style="vertical-align: middle;">{{ item.name }}</td>
                                    <td [innerHTML]="item.description">
                                        {{item.description}}
                                    </td>
                                    <td style="vertical-align: middle;">{{ item.from | date: 'dd/MM/yyyy, HH:mm'}}</td>
                                    <td style="vertical-align: middle;">{{ item.to | date: 'dd/MM/yyyy, HH:mm'}}</td>

                                </tr>
                            </tbody>
                            <tbody class="datatable-body" *ngIf="!positions.length">
                                <tr>
                                    <td colspan="10" class="text-center">
                                        {{ 'messages.no-records' | translate }}
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                        <div pagination class="datatable-pager datatable-paging-loaded" [page]="pagination.currentPage" style="margin-bottom: 30px;"
                            [total]="pagination.totalPages" [totalRecords]="pagination.totalCount"
                            [size]="pagination.pageSize" (sizeChange)="get({ page: 1, itemsPerPage: $event })"
                            (pageChange)="get({ page: $event, itemsPerPage: pagination.pageSize})"
                            *ngIf="positions.length">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="footer fixed-bottom container-fluid bg-dark navbar-dark py-2">
        <p class="text-center text-muted mt-1">&copy; {{ year }} Company, Inc</p>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
        crossorigin="anonymous"></script>
</body>

</html>